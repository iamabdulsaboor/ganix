!function(){"use strict";let t=(t,e,i)=>{var s,n,r,o,l,p;switch(e){case"tablet":return null!==(n=null!==(s=null==t?void 0:t.tablet)&&void 0!==s?s:null==t?void 0:t.desktop)&&void 0!==n?n:i;case"mobile":return null!==(l=null!==(o=null!==(r=null==t?void 0:t.mobile)&&void 0!==r?r:null==t?void 0:t.tablet)&&void 0!==o?o:null==t?void 0:t.desktop)&&void 0!==l?l:i;default:return null!==(p=null==t?void 0:t.desktop)&&void 0!==p?p:i}};function e(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var i=()=>class extends GP.Component{connectedCallback(){this.init(),this.observerInit()}constructor(){super(),e(this,"isSafari",!1),e(this,"currentDevice","desktop"),e(this,"$pDescriptionButtonShowMore",void 0),e(this,"$pDescriptionWrapper",void 0),e(this,"observerInit",()=>{let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(this.injectCustomStyles(),this.initializeSettings(),t.disconnect())})},{rootMargin:"10px"});t.observe(this)}),e(this,"init",()=>{let t=this.closest(".gps > section");if(null==t?void 0:t.classList.contains("gps-lazy")){null==t||t.addEventListener("GpLazyLoaded",this.init);return}null==t||t.removeEventListener("GpLazyLoaded",this.init),this.initializeComponent()}),e(this,"initializeComponent",()=>{this.setDescriptionDocument(),this.applyResizeEvent()}),e(this,"initializeSettings",(e=!1)=>{var i;this.currentDevice=this.getCurrentDevice();let s=this.getState("setting"),n=this.getState("collapseStyle"),r=t(null==s?void 0:s.hasLineClamp,this.currentDevice);this.isSafari=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"),r&&(e||null===(i=this.$pDescriptionWrapper)||void 0===i||i.setAttribute("style",this.getStyleOfObject(n)),this.$pDescriptionButtonShowMore&&this.initCollapseEvent()),this.handleShowMoreButton()}),e(this,"applyResizeEvent",()=>(window.addEventListener("resize",()=>{this.initializeSettings(!0)}),!1)),e(this,"setDescriptionDocument",()=>{var t,e;return this.$pDescriptionWrapper=null===(t=this.getElementsByClassName("p-description-wrapper"))||void 0===t?void 0:t[0],this.$pDescriptionButtonShowMore=null===(e=this.getElementsByClassName("p-description-show-more"))||void 0===e?void 0:e[0],!1}),e(this,"replaceUnit",t=>t.replaceAll("px","").replaceAll("rem","").replaceAll("em","")),e(this,"getLineHeightFromDom",()=>{if(!this.$pDescriptionWrapper)return 21;let t=window.getComputedStyle(this.$pDescriptionWrapper).getPropertyValue("line-height");return parseInt(t)}),e(this,"getMaxHeight",e=>{let i=this.getState("setting"),s=t(null==i?void 0:i.lineClamp,this.currentDevice),n=t(null==i?void 0:i.hasLineClamp,this.currentDevice);return n&&s&&e?`${s*e}px`:"auto"}),e(this,"handleShowMoreButton",()=>{let e=this.getState("setting");if(this.$pDescriptionWrapper&&this.$pDescriptionButtonShowMore){var i,s;let n=t(null==e?void 0:e.lineClamp,this.currentDevice),r=t(null==e?void 0:e.hasLineClamp,this.currentDevice),o=this.getLineHeightFromDom(),l=null===(i=this.$pDescriptionWrapper)||void 0===i?void 0:i.scrollHeight,p=null===(s=this.$pDescriptionWrapper)||void 0===s?void 0:s.clientHeight,a=Math.round((null!=l?l:0)/o),h=this.isSafari?n&&n<a:p<l,c=this.$pDescriptionButtonShowMore.classList.contains("showing-description");r&&n&&!c&&(this.$pDescriptionWrapper.style.maxHeight=this.getMaxHeight(o)),r&&n&&(h||c)?(this.$pDescriptionButtonShowMore.style.position="relative",this.$pDescriptionButtonShowMore.style.visibility="visible",this.handleLineClampSafari(c)):(this.$pDescriptionButtonShowMore.style.position="absolute",this.$pDescriptionButtonShowMore.style.visibility="hidden",this.handleLineClampSafari(!0))}}),e(this,"handleLineClampSafari",e=>{if(!this.isSafari)return;let i=this.getState("setting");if(this.$pDescriptionWrapper){var s;if(this.$pDescriptionWrapper.style.webkitLineClamp="unset",e){this.$pDescriptionWrapper.style.height="unset",this.$pDescriptionWrapper.removeAttribute("data-browser");return}let n=window.getComputedStyle(this.$pDescriptionWrapper).getPropertyValue("line-height"),r=null===(s=this.$pDescriptionWrapper)||void 0===s?void 0:s.scrollHeight,o=t(null==i?void 0:i.lineClamp,this.currentDevice),l=t(null==i?void 0:i.hasLineClamp,this.currentDevice),p=Math.round((null!=r?r:0)/parseInt(this.replaceUnit(n)));if(l&&o&&o<p){let t=parseInt(this.replaceUnit(n))*o;this.$pDescriptionWrapper.style.height=`${t}px`,this.$pDescriptionWrapper.setAttribute("data-browser","safari")}else this.$pDescriptionWrapper.removeAttribute("data-browser")}}),e(this,"handleShowMoreClick",t=>{let e=this.getState("collapseStyle");if(this.$pDescriptionButtonShowMore&&this.$pDescriptionWrapper){var i,s,n,r,o,l;t.preventDefault();let p=!this.$pDescriptionButtonShowMore.classList.contains("showing-description"),a=this.getLineHeightFromDom();p?(this.$pDescriptionButtonShowMore.classList.add("showing-description"),null===(i=this.$pDescriptionWrapper)||void 0===i||i.style.removeProperty("--line-clamp"),null===(s=this.$pDescriptionWrapper)||void 0===s||s.style.removeProperty("--line-clamp-mobile"),null===(n=this.$pDescriptionWrapper)||void 0===n||n.style.removeProperty("--line-clamp-tablet"),this.$pDescriptionWrapper.style.maxHeight="none"):(null===(r=this.$pDescriptionWrapper)||void 0===r||r.style.setProperty("--line-clamp",e["--line-clamp"]),null===(o=this.$pDescriptionWrapper)||void 0===o||o.style.setProperty("--line-clamp-mobile",e["--line-clamp-mobile"]),null===(l=this.$pDescriptionWrapper)||void 0===l||l.style.setProperty("--line-clamp-tablet",e["--line-clamp-tablet"]),this.$pDescriptionWrapper.style.maxHeight=this.getMaxHeight(a),this.$pDescriptionButtonShowMore.classList.remove("showing-description")),this.handleLineClampSafari(p);let h=this.getTemplate(p);this.$pDescriptionButtonShowMore.innerHTML=h}}),e(this,"initCollapseEvent",()=>{var t,e;null===(t=this.$pDescriptionButtonShowMore)||void 0===t||t.removeEventListener("click",this.handleShowMoreClick),null===(e=this.$pDescriptionButtonShowMore)||void 0===e||e.addEventListener("click",this.handleShowMoreClick)}),e(this,"getTemplate",t=>{let e=this.getState("setting"),i=this.dataset.viewMoreText||this.getAttribute("view-more-text")||e.viewMoreText,s=this.dataset.viewLessText||this.getAttribute("view-less-text")||e.viewLessText,n=(null==e?void 0:e.enableViewMoreIcon)?this.viewMoreIconSvg(t):"";return t?`${s} ${n}`:`${i} ${n}`}),e(this,"viewMoreIconSvg",t=>`<svg style="display: inline-block; margin-left: 1px;"class="gp-ml-1 gp-inline-block" height="1em" width="1em" viewBox="0 0 22 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path ${t?'d="M0.292893 10.2929C-0.0976311 10.6834 -0.0976311 11.3166 0.292893 11.7071C0.683417 12.0976 1.31658 12.0976 1.70711 11.7071L0.292893 10.2929ZM11 1L11.7071 0.292893C11.3166 -0.0976311 10.6834 -0.0976311 10.2929 0.292893L11 1ZM20.2929 11.7071C20.6834 12.0976 21.3166 12.0976 21.7071 11.7071C22.0976 11.3166 22.0976 10.6834 21.7071 10.2929L20.2929 11.7071ZM1.70711 11.7071L11.7071 1.70711L10.2929 0.292893L0.292893 10.2929L1.70711 11.7071ZM10.2929 1.70711L20.2929 11.7071L21.7071 10.2929L11.7071 0.292893L10.2929 1.70711Z"':'d="M1.70711 0.292893C1.31658 -0.0976311 0.683417 -0.0976311 0.292893 0.292893C-0.0976311 0.683417 -0.0976311 1.31658 0.292893 1.70711L1.70711 0.292893ZM11 11L10.2929 11.7071C10.6834 12.0976 11.3166 12.0976 11.7071 11.7071L11 11ZM21.7071 1.70711C22.0976 1.31658 22.0976 0.683417 21.7071 0.292893C21.3166 -0.0976311 20.6834 -0.0976311 20.2929 0.292893L21.7071 1.70711ZM0.292893 1.70711L10.2929 11.7071L11.7071 10.2929L1.70711 0.292893L0.292893 1.70711ZM11.7071 11.7071L21.7071 1.70711L20.2929 0.292893L10.2929 10.2929L11.7071 11.7071Z"'} fill="currentColor"/></svg>`),e(this,"getStyleOfObject",t=>{let e=Object.keys(t),i="";return e.forEach(e=>{i+=`${e}: ${t[e]};`}),i}),e(this,"getCurrentDevice",()=>window.innerWidth<768?"mobile":window.innerWidth>=768&&window.innerWidth<1025?"tablet":"desktop"),e(this,"injectCustomStyles",()=>{if(this.isSafari)return!1;let t=document.createElement("style");return t.textContent='.gp-p-description-text>:not(ol):not(ul):not(table):not(div):not(style):not(script){display:inline!important}.gp-p-description-text>:not(ol):not(ul):not(table):not(div):not(style):not(script)::after{content:"\\A";white-space:pre}.gp-p-description-text>table{box-shadow:none}',this.prepend(t),!1})}};let s=()=>{window.removeEventListener("gp-global-loaded",s),customElements.get("gp-product-description")||customElements.define("gp-product-description",i())};"completed"===window.gpReadyState?s():window.addEventListener("gp-global-loaded",s)}();
