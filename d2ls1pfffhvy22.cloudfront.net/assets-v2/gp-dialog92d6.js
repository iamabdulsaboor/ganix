!function(){"use strict";let e=()=>window.innerWidth<768?"mobile":window.innerWidth>=768&&window.innerWidth<1025?"tablet":"desktop";function t(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function i(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function n(e,t){var n=i(e,t,"get");return n.get?n.get.call(e):n.value}function a(e,i,n){t(e,i),i.set(e,n)}function s(e,t,n){var a=i(e,t,"set");return!function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=i}}(e,a,n),n}function o(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return i}function l(e,i){t(e,i),i.add(e)}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let h=()=>{window.removeEventListener("gp-global-loaded",h);var t=new WeakMap,i=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakMap,p=new WeakMap,g=new WeakMap,w=new WeakMap,v=new WeakSet,f=new WeakSet,m=new WeakSet,b=new WeakSet,k=new WeakSet,W=new WeakSet,S=new WeakSet,M=new WeakSet,y=new WeakMap,E=new WeakSet,T=new WeakSet,L=new WeakSet;class I extends GP.Component{openModal(){localStorage.setItem(n(this,c).time,`${Date.now()}`),o(this,f,O).call(this),this.dispatchInteractionOpenPopup()}constructor(){super(),l(this,v),l(this,f),l(this,m),l(this,b),l(this,k),l(this,W),l(this,S),l(this,M),l(this,E),l(this,T),l(this,L),a(this,t,{writable:!0,value:!1}),a(this,i,{writable:!0,value:!1}),a(this,d,{writable:!0,value:{}}),a(this,c,{writable:!0,value:{id:"",time:""}}),a(this,u,{writable:!0,value:void 0}),a(this,p,{writable:!0,value:void 0}),a(this,g,{writable:!0,value:void 0}),a(this,w,{writable:!0,value:"desktop"}),r(this,"interactionListenerLoaded",e=>{if(window.interactionLoaded){e();return}window.addEventListener("gp:flow-actions-loaded",()=>{e()})}),r(this,"dispatchInteractionOpenPopup",()=>{this.interactionListenerLoaded(()=>{this.trigger({event:"gp:popup-open"})})}),r(this,"dispatchInteractionClosePopup",()=>{this.interactionListenerLoaded(()=>{this.trigger({event:"gp:popup-close"})})}),r(this,"listenerInteractionEvents",()=>{this.onTrigger&&(this.onTrigger({event:"gp:toggle-popup-open"},()=>{this.openModal()}),this.onTrigger({event:"gp:toggle-popup-close"},()=>{o(this,v,P).call(this)}))}),a(this,y,{writable:!0,value:(e="",t="")=>({id:`dialog:${e}:${t}`,time:`dialog:${e}:${t}:time`})});try{var h;let t=JSON.parse(null!==(h=this.dataset.gpSetting)&&void 0!==h?h:"{}");s(this,d,t),s(this,w,e()),s(this,c,n(this,y).call(this,t.dialogId,t.trigger)),s(this,u,this.querySelector(`dialog[data-gp-dialog-id="${t.dialogId}"]`)),s(this,p,this.querySelector("div[data-gp-dialog-overlay]")),s(this,g,this.querySelector("button[data-gp-dialog-close]")),o(this,b,q).call(this),o(this,k,C).call(this)}catch(e){}}}function P(){var e;s(this,t,!1),null===(e=n(this,u))||void 0===e||e.close(),this.dispatchInteractionClosePopup()}function O(){var e;n(this,t)||(s(this,t,!0),null===(e=n(this,u))||void 0===e||e.showModal())}function $(){let e=localStorage.getItem(n(this,c).time);if(e)switch(n(this,d).frequencyMode){case"once":break;case"after-period-time":{let t=o(this,E,j).call(this,e,n(this,d).frequency);t&&this.openModal();break}case"every":this.openModal()}else this.openModal()}function q(){var e,t;this.listenerInteractionEvents(),n(this,d).closeOnClickOutside&&(null===(t=n(this,p))||void 0===t||t.addEventListener("click",()=>{o(this,v,P).call(this)})),null===(e=n(this,g))||void 0===e||e.addEventListener("click",()=>{o(this,v,P).call(this)})}function C(){var e,t,i;let a=null===(e=n(this,d))||void 0===e?void 0:e.display;if(a){let e=null===(i=n(this,d))||void 0===i?void 0:null===(t=i.display)||void 0===t?void 0:t[n(this,w)];if(!e)return}switch(n(this,d).trigger){case"show-on-page-load":o(this,m,$).call(this);break;case"show-after-time":setTimeout(()=>{o(this,m,$).call(this)},1e3*o(this,T,A).call(this,n(this,d).triggerTime));break;case"show-after-scroll":o(this,S,N).call(this);break;case"show-when-about-exit":o(this,M,x).call(this)}}function D(e){var t;if(n(this,i))return;let a=document.documentElement.scrollHeight-document.documentElement.clientHeight;Math.ceil(e/a*100)>=(null!==(t=n(this,d).triggerPercentage)&&void 0!==t?t:0)&&(s(this,i,!0),o(this,m,$).call(this))}function N(){o(this,W,D).call(this,window.scrollY),window.addEventListener("scroll",e=>{let t=e.currentTarget.scrollY;o(this,W,D).call(this,t)})}function x(){if(!n(this,t)){if(o(this,L,B).call(this)&&"show-when-about-exit"===n(this,d).trigger&&"timer"===n(this,d).mobileTrigger){var e;setTimeout(()=>{o(this,m,$).call(this)},(null!==(e=n(this,d).mobileTriggerTime)&&void 0!==e?e:0)*1e3)}document.addEventListener("mouseleave",()=>{n(this,t)||o(this,m,$).call(this)})}}function j(e,t=0){let i=e?new Date(Number(e)):new Date,n=Date.now()-i.getTime();return Math.abs(n/24/60/60/1e3)>=t}function A(e){var t;let i=parseFloat(null!==(t=null==e?void 0:e.toString())&&void 0!==t?t:"0");return isNaN(i)?0:i}function B(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}customElements.get("gp-dialog")||customElements.define("gp-dialog",I)};"completed"===window.gpReadyState?h():window.addEventListener("gp-global-loaded",h)}();
