!function(e){"use strict";let t=["desktop","tablet","mobile"],i=(e,t)=>{if(!e)return t;if("number"==typeof e)return e;let i=e.replaceAll("px","").replaceAll("%","").replaceAll("rem","").replaceAll("em","");return isNaN(Number(i))?t:Number(i)},l=(e,t,i)=>{var l,n,r,o,a,s;switch(t){case"tablet":return null!==(n=null!==(l=null==e?void 0:e.tablet)&&void 0!==l?l:null==e?void 0:e.desktop)&&void 0!==n?n:i;case"mobile":return null!==(a=null!==(o=null!==(r=null==e?void 0:e.mobile)&&void 0!==r?r:null==e?void 0:e.tablet)&&void 0!==o?o:null==e?void 0:e.desktop)&&void 0!==a?a:i;default:return null!==(s=null==e?void 0:e.desktop)&&void 0!==s?s:i}},n=(e,t)=>({[`--${e}`]:null==t?void 0:t.desktop,[`--${e}-tablet`]:null==t?void 0:t.tablet,[`--${e}-mobile`]:null==t?void 0:t.mobile}),r=(e,t)=>{let i=(e,t,i)=>{let l=null==t?void 0:t[e],n=null==i?void 0:i[e];return n?"100%":l};return{desktop:i("desktop",e,t),tablet:i("tablet",e,t),mobile:i("mobile",e,t)}},o=(e,t)=>{let i={};return["desktop","mobile","tablet"].forEach(n=>{let r=l(t,n);switch(r){case"bottom-center":case"bottom-left":i={...i,[n]:l(e.shapeForBottom,n)};break;case"left":case"right":i={...i,[n]:l(e.shape,n)};break;case"only-feature":i={...i,[n]:l(e.shapeForFtOnly,n)};break;case"one-col":i={...i,[n]:l(e.shapeFor1Col,n)};break;case"two-col":i={...i,[n]:l(e.shapeFor2Col,n)}}}),i};var a,s,d,u,c,h,g,v,p,m,f=function(){return(f=Object.assign||function(e){for(var t,i=1,l=arguments.length;i<l;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function y(e,t,i){if(i||2==arguments.length)for(var l,n=0,r=t.length;n<r;n++)!l&&n in t||(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}function b(e){return Array.prototype.slice.call(e)}function I(e,t){var i=Math.floor(e);return i===t||i+1===t?e:t}function E(){return Date.now()}function x(e,t,i){if(t="data-keen-slider-"+t,null===i)return e.removeAttribute(t);e.setAttribute(t,i||"")}function w(e,t){return t=t||document,"function"==typeof e&&(e=e(t)),Array.isArray(e)?e:"string"==typeof e?b(t.querySelectorAll(e)):e instanceof HTMLElement?[e]:e instanceof NodeList?b(e):[]}function S(e){e.raw&&(e=e.raw),e.cancelable&&!e.defaultPrevented&&e.preventDefault()}function A(e){e.raw&&(e=e.raw),e.stopPropagation&&e.stopPropagation()}function C(){var e=[];return{add:function(t,i,l,n){t.addListener?t.addListener(l):t.addEventListener(i,l,n),e.push([t,i,l,n])},input:function(e,t,i,l){this.add(e,t,function(e){e.nativeEvent&&(e=e.nativeEvent);var t=e.changedTouches||[],l=e.targetTouches||[],n=e.detail&&e.detail.x?e.detail:null;return i({id:n?n.identifier?n.identifier:"i":l[0]?l[0]?l[0].identifier:"e":"d",idChanged:n?n.identifier?n.identifier:"i":t[0]?t[0]?t[0].identifier:"e":"d",raw:e,x:n&&n.x?n.x:l[0]?l[0].screenX:n?n.x:e.pageX,y:n&&n.y?n.y:l[0]?l[0].screenY:n?n.y:e.pageY})},l)},purge:function(){e.forEach(function(e){e[0].removeListener?e[0].removeListener(e[2]):e[0].removeEventListener(e[1],e[2],e[3])}),e=[]}}}function k(e,t,i){return Math.min(Math.max(e,t),i)}function L(e){return(e>0?1:0)-(e<0?1:0)||+e}function T(e){var t=e.getBoundingClientRect();return{height:I(t.height,e.offsetHeight),width:I(t.width,e.offsetWidth)}}function _(e,t,i,l){var n=e&&e[t];return null==n?i:l&&"function"==typeof n?n():n}function M(e){return Math.round(1e6*e)/1e6}function F(e){var t,i,l,n,r,o,a,s;function d(e){return 1-Math.pow(1-e,3)}function u(){return l?e.track.velocity():0}function c(e,t){void 0===t&&(t=1e3);var i=147e-9+(e=Math.abs(e))/t;return{dist:Math.pow(e,2)/i,dur:e/i}}function h(){var t=e.track.details;t&&(r=t.min,o=t.max,a=t.minIdx,s=t.maxIdx)}function g(){e.animator.stop()}e.on("updated",h),e.on("optionsChanged",h),e.on("created",h),e.on("dragStarted",function(){l=!1,g(),t=i=e.track.details.abs}),e.on("dragChecked",function(){l=!0}),e.on("dragEnded",function(){var l,h,v,p,m,f,y=e.options.mode;"snap"===y&&(l=e.track,v=(h=e.track.details).position,p=L(u()),(v>o||v<r)&&(p=0),m=t+p,0===h.slides[l.absToRel(m)].portion&&(m-=p),t!==i&&(m=i),L(l.idxToDist(m,!0))!==p&&(m+=p),m=k(m,a,s),f=l.idxToDist(m,!0),e.animator.start([{distance:f,duration:500,easing:function(e){return 1+--e*e*e*e*e}}])),"free"!==y&&"free-snap"!==y||function(){g();var t="free-snap"===e.options.mode,i=e.track,l=u();n=L(l);var h=e.track.details,v=[];if(l||!t){var p=c(l),m=p.dist,f=p.dur;if(f*=2,m*=n,t){var y=i.idxToDist(i.distToIdx(m),!0);y&&(m=y)}v.push({distance:m,duration:f,easing:d});var b=h.position,I=b+m;if(I<r||I>o){var E=I<r?r-b:o-b,x=0,w=l;if(L(E)===n){var S=Math.min(Math.abs(E)/Math.abs(m),1),A=(1-Math.pow(1-S,1/3))*f;v[0].earlyExit=A,w=l*(1-S)}else v[0].earlyExit=0,x+=E;var C=c(w,100),T=C.dist*n;e.options.rubberband&&(v.push({distance:T,duration:2*C.dur,easing:d}),v.push({distance:-T+x,duration:500,easing:d}))}e.animator.start(v)}else e.moveToIdx(k(h.abs,a,s),!0,{duration:500,easing:function(e){return 1+--e*e*e*e*e}})}()}),e.on("dragged",function(){i=e.track.details.abs})}function $(e){var t,i,l,n,r,o,a,s,d,u,c,h,g,v,p,m,f,y,b=C();function I(t){if(o&&s===t.id){var g=_(t);if(d){if(!T(t))return x(t);u=g,d=!1,e.emit("dragChecked")}if(m)return u=g;S(t);var v=function(t){if(f===-1/0&&y===1/0)return t;var l=e.track.details,o=l.length,a=l.position,s=k(t,f-a,y-a);if(0===o)return 0;if(!e.options.rubberband)return s;if(a<=y&&a>=f||a<f&&i>0||a>y&&i<0)return t;var d=Math.max(0,1-Math.abs((a<f?a-f:a-y)/o*(n*o))/r*2);return d*d*t}(a(u-g)/n*l);i=L(v);var p=e.track.details.position;(p>f&&p<y||p===f&&i>0||p===y&&i<0)&&A(t),c+=v,!h&&Math.abs(c*n)>5&&(h=!0),e.track.add(v),u=g,e.emit("dragged")}}function E(t){!o&&e.track.details&&e.track.details.length&&(c=0,o=!0,h=!1,d=!0,s=t.id,T(t),u=_(t),e.emit("dragStarted"))}function x(t){o&&s===t.idChanged&&(o=!1,e.emit("dragEnded"))}function T(e){var t=M(),i=t?e.y:e.x,l=t?e.x:e.y,n=void 0!==g&&void 0!==v&&Math.abs(v-l)<=Math.abs(g-i);return g=i,v=l,n}function _(e){return M()?e.y:e.x}function M(){return e.options.vertical}function F(){n=e.size,r=M()?window.innerHeight:window.innerWidth;var t=e.track.details;t&&(f=t.min,y=t.max)}function $(e){h&&(A(e),S(e))}function O(){if(b.purge(),e.options.drag&&!e.options.disabled){a="function"==typeof(n=e.options.dragSpeed||1)?n:function(e){return e*n},l=e.options.rtl?-1:1,F(),t=e.container,i="data-keen-slider-clickable",w("[".concat(i,"]:not([").concat(i,"=false])"),t).map(function(e){b.add(e,"dragstart",A),b.add(e,"mousedown",A),b.add(e,"touchstart",A)}),b.add(t,"dragstart",function(e){S(e)}),b.add(t,"click",$,{capture:!0}),b.input(t,"ksDragStart",E),b.input(t,"ksDrag",I),b.input(t,"ksDragEnd",x),b.input(t,"mousedown",E),b.input(t,"mousemove",I),b.input(t,"mouseleave",x),b.input(t,"mouseup",x),b.input(t,"touchstart",E,{passive:!0}),b.input(t,"touchmove",I,{passive:!1}),b.input(t,"touchend",x),b.input(t,"touchcancel",x),b.add(window,"wheel",function(e){o&&S(e)});var i,n,r="data-keen-slider-scrollable";w("[".concat(r,"]:not([").concat(r,"=false])"),e.container).map(function(e){var t;b.input(e,"touchstart",function(e){t=_(e),m=!0,p=!0},{passive:!0}),b.input(e,"touchmove",function(i){var l=M(),n=l?e.scrollHeight-e.clientHeight:e.scrollWidth-e.clientWidth,r=t-_(i),o=l?e.scrollTop:e.scrollLeft,a=l&&"scroll"===e.style.overflowY||!l&&"scroll"===e.style.overflowX;if(t=_(i),(r<0&&o>0||r>0&&o<n)&&p&&a)return m=!0;p=!1,S(i),m=!1}),b.input(e,"touchend",function(){m=!1})})}}e.on("updated",F),e.on("optionsChanged",O),e.on("created",O),e.on("destroyed",b.purge)}function O(e){var t,i,l=null;function n(t,i,l){e.animator.active?o(t,i,l):requestAnimationFrame(function(){return o(t,i,l)})}function r(){n(!1,!1,i)}function o(i,n,r){var o=0,a=e.size,u=e.track.details;if(u&&t){var c=u.slides;t.forEach(function(e,t){if(i)!l&&n&&s(e,null,r),d(e,null,r);else{if(!c[t])return;var u=c[t].size*a;!l&&n&&s(e,u,r),d(e,c[t].distance*a-o,r),o+=u}})}}function a(t){return"performance"===e.options.renderMode?Math.round(t):t}function s(e,t,i){var l=i?"height":"width";null!==t&&(t=a(t)+"px"),e.style["min-"+l]=t,e.style["max-"+l]=t}function d(e,t,i){if(null!==t){t=a(t);var l=i?t:0;t="translate3d(".concat(i?0:t,"px, ").concat(l,"px, 0)")}e.style.transform=t,e.style["-webkit-transform"]=t}function u(){t&&(o(!0,!0,i),t=null),e.on("detailsChanged",r,!0)}function c(){n(!1,!0,i)}function h(){u(),i=e.options.vertical,e.options.disabled||"custom"===e.options.renderMode||(l="auto"===_(e.options.slides,"perView",null),e.on("detailsChanged",r),(t=e.slides).length&&c())}e.on("created",h),e.on("optionsChanged",h),e.on("beforeOptionsChanged",function(){u()}),e.on("updated",c),e.on("destroyed",u)}"function"==typeof SuppressedError&&SuppressedError;var G=function(e,t,i){try{var l,n,r,o;return n=y([(l={drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"},function(t){var i,n,r,o,a,s=C();function d(e){var i;x(t.container,"reverse","rtl"!==(i=t.container,window.getComputedStyle(i,null).getPropertyValue("direction"))||e?null:""),x(t.container,"v",t.options.vertical&&!e?"":null),x(t.container,"disabled",t.options.disabled&&!e?"":null)}function u(){c()&&p()}function c(){var e=null;if(o.forEach(function(t){t.matches&&(e=t.__media)}),e===i)return!1;i||t.emit("beforeOptionsChanged"),i=e;var l=e?r.breakpoints[e]:r;return t.options=f(f({},r),l),d(),E(),S(),y(),!0}function h(){return t.options.trackConfig.length}function g(e){for(var a in i=!1,r=f(f({},l),e),s.purge(),n=t.size,o=[],r.breakpoints||[]){var d=window.matchMedia(a);d.__media=a,o.push(d),s.add(d,"change",u)}s.add(window,"orientationchange",I),s.add(window,"resize",b),c()}function v(e){t.animator.stop();var i=t.track.details;t.track.init(null!=e?e:i?i.abs:0)}function p(e){v(e),t.emit("optionsChanged")}function m(e,i){if(e)return g(e),void p(i);E(),S();var l=h();y(),h()!==l?p(i):v(i),t.emit("updated")}function y(){var e=t.options.slides;if("function"==typeof e)return t.options.trackConfig=e(t.size,t.slides);var i=t.slides,l=i.length,n="number"==typeof e?e:_(e,"number",l,!0),r=[],o=_(e,"perView",1,!0),a="number"==typeof o?_(e,"numberOfFullWidthShow",void 0,!0):o,s=_(e,"spacing",0,!0)/t.size||0,d="auto"===o?s:s/o,u=0;"number"==typeof a&&(u=s*(Math.floor(a)-1));for(var c=_(e,"origin","auto"),h=0,g=0;g<n;g++){var v="auto"===o?function(e){var i=T(e);return(t.options.vertical?i.height:i.width)/t.size||1}(i[g])-s+d:1/o-s+d,p="center"===c?"number"==typeof a?.5-u/2-Math.floor(a)*v/2:.5-v/2:"auto"===c?0:c;r.push({origin:p,size:v,spacing:s}),h+=v}if(h+=s*(n-1),"auto"===c&&!t.options.loop&&1!==o){var m=0;r.map(function(e){var t=h-m;return m+=e.size+s,t>=1||(e.origin=1-t-(h>1?0:1-h)),e})}t.options.trackConfig=r}function b(){E();var e=t.size;t.options.disabled||e===n||(n=e,m())}function I(){b(),setTimeout(b,500),setTimeout(b,2e3)}function E(){var e=T(t.container);t.size=(t.options.vertical?e.height:e.width)||1}function S(){t.slides=w(t.options.selector,t.container)}t.container=(a=w(e,document)).length?a[0]:null,t.destroy=function(){s.purge(),t.emit("destroyed"),d(!0)},t.prev=function(){t.moveToIdx(t.track.details.abs-1,!0)},t.next=function(){t.moveToIdx(t.track.details.abs+1,!0)},t.update=m,g(t.options)}),O,$,F],i||[],!0),o={},r={emit:function(e){o[e]&&o[e].forEach(function(e){e(r)});var t=r.options&&r.options[e];t&&t(r)},moveToIdx:function(e,t,i){var l=r.track.idxToDist(e,t);if(l){var n=r.options.defaultAnimation;r.animator.start([{distance:l,duration:_(i||n,"duration",500),easing:_(i||n,"easing",function(e){return 1+--e*e*e*e*e})}])}},on:function(e,t,i){void 0===i&&(i=!1),o[e]||(o[e]=[]);var l=o[e].indexOf(t);l>-1?i&&delete o[e][l]:i||o[e].push(t)},options:t},function(){if(r.track=function(e){var t,i,l,n,r,o,a,s,d,u,c,h,g,v,p=1/0,m=[],f=null,b=0;function I(e){F(b+e)}function x(e){var t=w(b+e).abs;return C(t)===t?t:null}function w(e){var t=Math.floor(Math.abs(M(e/i))),l=M((e%i+i)%i);l===i&&(l=0);var n=L(e),r=a.indexOf(y([],a,!0).reduce(function(e,t){return Math.abs(t-l)<Math.abs(e-l)?t:e})),s=r;return n<0&&t++,r===o&&(s=0,t+=n>0?1:-1),{abs:s+t*o*n,origin:r,rel:s}}function S(e,t,i){if(t||!n.loop)return A(e,i);if(C(e)!==e)return null;var l,r=w(null!=i?i:b),a=r.abs,s=e-r.rel,d=a+s;l=A(d);var u=A(d-o*L(s));return(null!==u&&Math.abs(u)<Math.abs(l)||null===l)&&(l=u),M(l)}function A(e,t){if(null==t&&(t=M(b)),l=e,C(l)!==l||null===e)return null;e=Math.round(e);var l,n=w(t),r=n.abs,s=n.rel,d=n.origin,u=T(e),c=(t%i+i)%i,h=a[d],g=Math.floor((e-(r-s))/o)*i;return M(h-c-h+a[u]+g+(d===o?i:0))}function C(e){return k(e,d,u)}function T(e){return(e%o+o)%o}function F(t){i=t-b,m.push({distance:i,timestamp:E()}),m.length>6&&(m=m.slice(-6)),b=M(t);var i,l=$().abs;if(l!==f){var n=null!==f;f=l,n&&e.emit("slideChanged")}}function $(a){var s=a?null:function(){if(o){var e=n.loop,t=e?(b%i+i)%i:b,a=(e?b%i:b)-r[0][2],s=0-(a<0&&e?i-Math.abs(a):a),p=0,m=w(b),f=m.abs,y=m.rel,I=r[y][2],E=r.map(function(t,l){var r=s+p;(r<0-t[0]||r>1)&&(r+=(Math.abs(r)>i-1&&e?i:0)*L(-r));var a=l-y,d=L(a),u=a+f;e&&(-1===d&&r>I&&(u+=o),1===d&&r<I&&(u-=o),null!==c&&u<c&&(r+=i),null!==h&&u>h&&(r-=i));var g=r+t[0]+t[1],v=Math.max(r>=0&&g<=1?1:g<0||r>1?0:r<0?Math.min(1,(t[0]+r)/t[0]):(1-r)/t[0],0);return p+=t[0]+t[1],{abs:u,distance:n.rtl?-1*r+1-t[0]:r,portion:v,size:t[0]}});return y=T(f=C(f)),{abs:C(f),length:l,max:v,maxIdx:u,min:g,minIdx:d,position:b,progress:e?t/i:b/l,rel:y,slides:E,slidesLength:i}}}();return t.details=s,e.emit("detailsChanged"),s}return t={absToRel:T,add:I,details:null,distToIdx:x,idxToDist:S,init:function(t){var m,f,y,E;if(function(){if(o=(r=((n=e.options).trackConfig||[]).map(function(e){return[_(e,"size",1),_(e,"spacing",0),_(e,"origin",0)]})).length){i=M(r.reduce(function(e,t){return e+t[0]+t[1]},0));var t,d=o-1;l=M(i+r[0][2]-r[d][0]-r[d][2]-r[d][1]),a=r.reduce(function(e,i){if(!e)return[0];var l=r[e.length-1],n=e[e.length-1]+(l[0]+l[2])+l[1];return n-=i[2],e[e.length-1]>n&&(n=e[e.length-1]),n=M(n),e.push(n),(!t||t<n)&&(s=e.length-1),t=n,e},null),0===l&&(s=0),a.push(M(i))}}(),!o)return $(!0);m=e.options.range,c=d=(f=e.options.loop)?_(f,"min",-p):0,h=u=f?_(f,"max",p):s,y=_(m,"min",null),E=_(m,"max",null),null!==y&&(d=y),null!==E&&(u=E),g=d===-p?d:e.track.idxToDist(d||0,!0,0),v=u===p?u:S(u,!0,0),null===E&&(h=u),_(m,"align",!1)&&u!==p&&0===r[T(u)][2]&&(v-=1-r[T(u)][0],u=x(v-b)),g=M(g),v=M(v),Number(t)===t?I(A(C(t))):$()},to:F,velocity:function(){var e=E(),t=m.reduce(function(t,i){var l=i.distance,n=i.timestamp;return e-n>200||(L(l)!==L(t.distance)&&t.distance&&(t={distance:0,lastTimestamp:0,time:0}),t.time&&(t.distance+=l),t.lastTimestamp&&(t.time+=n-t.lastTimestamp),t.lastTimestamp=n),t},{distance:0,lastTimestamp:0,time:0});return t.distance/t.time||0}}}(r),r.animator=function(e){var t,i,l,n,r,o;function a(e){t.active=e}function s(e){t.targetIdx=e}function d(){var t;t=r,window.cancelAnimationFrame(t),a(!1),s(null),o&&e.emit("animationStopped"),o=null}return t={active:!1,start:function(t){if(d(),e.track.details){var u=0,c=e.track.details.position;i=0,l=0,n=t.map(function(e){var t,i=Number(c),n=null!==(t=e.earlyExit)&&void 0!==t?t:e.duration,r=e.easing,o=e.distance*r(n/e.duration)||0;c+=o;var a=l;return l+=n,u+=o,[i,e.distance,a,l,e.duration,r]}),s(e.track.distToIdx(u)),function t(){r=window.requestAnimationFrame(function r(d){o||(o=d),a(!0);var u=d-o;u>l&&(u=l);var c=n[i];if(c[3]<u)return i++,r(d);var h=c[2],g=c[4],v=c[0],p=c[1]*(0,c[5])(0===g?1:(u-h)/g);if(p&&e.track.to(v+p),u<l)return t();o=null,a(!1),s(null),e.emit("animationEnded")})}(),e.emit("animationStarted")}},stop:d,targetIdx:null}}(r),n)for(var e=0;e<n.length;e++)(0,n[e])(r);r.track.init(r.options.initial||0),r.emit("created")}(),r}catch(e){console.error(e)}};let R=()=>window.innerWidth<768?"mobile":window.innerWidth>=768&&window.innerWidth<1025?"tablet":"desktop";function P(e,t){var i;let l=null===(i=e.match(/\.webp/g))||void 0===i?void 0:i.length,n=z({str:e,reg:/_(pico|icon|thumb|small|compact|medium|large|grande|original|1024x1024|2048x2048|master)+\./g,newString:"."});if(l)return n;let r=z({str:n,reg:/\.jpg|\.png|\.gif|\.jpeg/g,newString:t,isAdd:!0});return r}let z=e=>{var t;let i=e.str,l=null===(t=e.str.match(e.reg))||void 0===t?void 0:t.length;if(l){let t,n=1;for(;null!==(t=e.reg.exec(e.str));){if(n===l){let l=e.reg.lastIndex,n=l-t[0].length;e.isAdd&&(e.newString="_"+e.newString+t),i=i.slice(0,n)+e.newString+i.slice(l,i.length)}n++}}return i},q=e=>{let t;return t=e?"string"==typeof e?new URL(e):e:new URL(window.location.href),RegExp("/collections/","i").test(t.pathname)},B=(e,t,i)=>{let l=e.getAttribute("gp-data-interaction"),n=JSON.parse(l||"{}");e.setAttribute("gp-data-interaction",JSON.stringify({...n,[t]:i}))};function N(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var D=()=>class extends GP.Component{connectedCallback(){let e=this.closest("gp-product");if((null==e?void 0:e.getState)&&e.getState("isReady")){this.rootInit();return}null==e||e.addEventListener("gp:product-init",()=>{requestAnimationFrame(()=>{this.context=null==e?void 0:e.context,this.rootInit()})})}constructor(e){super(),N(this,"initFunc",void 0),N(this,"rootInit",()=>{let e=this.closest(".gps > section");if(null==e?void 0:e.classList.contains("gps-lazy")){null==e||e.addEventListener("GpLazyLoaded",this.rootInit);return}null==e||e.removeEventListener("GpLazyLoaded",this.rootInit),this.initFunc&&this.initFunc()}),this.initFunc=e}};(a=h||(h={})).EXACT="exact",a.ABOVE="above",a.BELOW="below",a.EXACT_OR_ABOVE="exact_or_above",a.EXACT_OR_BELOW="exact_or_below",a.BETWEEN="between",(s=g||(g={})).INVENTORY_STATUS="inventory_status",s.DISCOUNT_PRICE="discount_price",s.PRICE_RANGE="price_range",s.PRODUCT_TAGS="product_tags",s.CREATION_DATE="creation_date",(d=v||(v={})).IN_STOCK="in_stock",d.OUT_OF_STOCK="out_of_stock",(u=p||(p={})).DURATION="duration",u.EXACT_DATE="exact_date",u.BETWEEN_DATES="between_dates",(c=m||(m={})).PERCENT="percent",c.FIXED="fixed";let W="variant";function H(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var V=()=>class extends D(){setDisplayForImageList(e,t,i){t>1?"only-feature"===i?e.style.display="none":e.style.display="flex":"one-col"===i||"two-col"===i?e.style.display="flex":e.style.display="none"}setHeightForCustomSize(e){var t;let i=R(),l=this.getStyles(),n=o(l,null==l?void 0:l.position),r=null==n?void 0:null===(t=n[i])||void 0===t?void 0:t.shapeLinked;r?e.forEach(e=>{e.style.height=""}):e.forEach(e=>{e.style.height="100%"})}createOrIframe(e,t){var i,l;if(null==t?void 0:t.featureVideo)null==t||t.featureVideo.setAttribute("src",null!==(i=null==t?void 0:t.mediaLastSourceURL)&&void 0!==i?i:"");else{let i=document.createElement("iframe");i.allowFullscreen=!0,i.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",i.frameBorder="0",i.setAttribute("class","feature-video gp-w-full gp-h-full"),i.setAttribute("controls",""),i.src=null!==(l=null==t?void 0:t.mediaLastSourceURL)&&void 0!==l?l:"",null==e||e.appendChild(i)}}renderExternalVideo(e){let t=document.createElement("iframe");return t.allowFullscreen=!0,t.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",t.setAttribute("class","feature-video"),Object.assign(t.style,{width:"100%",height:"100%",border:"none","z-index":-1,position:"relative"}),t.setAttribute("controls","true"),t.src=null!=e?e:"",t}pauseAllVideo(e,t){Array.prototype.forEach.call(e,e=>{var t,i;null==e||null===(t=e.contentWindow)||void 0===t||t.postMessage(JSON.stringify({event:"command",func:"pauseVideo"}),"*"),null==e||null===(i=e.contentWindow)||void 0===i||i.postMessage('{"method":"pause"}',"*")}),Array.prototype.forEach.call(t,e=>{e.pause()})}playCurrentSlideVideo(e,t){(null==e?void 0:e.length)&&Array.prototype.forEach.call(e,e=>{var t,i;null==e||null===(t=e.contentWindow)||void 0===t||t.postMessage(JSON.stringify({event:"command",func:"playVideo"}),"*"),null==e||null===(i=e.contentWindow)||void 0===i||i.postMessage('{"method":"play"}',"*")}),(null==t?void 0:t.length)&&Array.prototype.forEach.call(t,e=>{e.play()})}isHidden(e){let t=window.getComputedStyle(e);return"none"===t.display}constructor(){super(()=>{var e;this.productFormID=null===(e=this.closest("gp-product form"))||void 0===e?void 0:e.getAttribute("id"),this.setProductImageSelectors(),window.addEventListener(`activeMoveIndexSlider-${this.productFormID}`,()=>{setTimeout(()=>{this.handleFirstActiveVariant()},0)},{once:!0}),this.handleFirstActiveVariant(),this.handleChangeVariant(),this.init(),this.onListenerInteraction(),this.onListenerChangeSlideInteraction()}),H(this,"currentDevice","desktop"),H(this,"featureImageHeightGlobal",0),H(this,"timeout",null),H(this,"currentActiveImageID","0"),H(this,"isChangedVariant",!1),H(this,"$featuredImage",void 0),H(this,"$gpProductImagesGallery",void 0),H(this,"$grid",void 0),H(this,"$carouselGallery",void 0),H(this,"featureImageCarousel",void 0),H(this,"productFormID",void 0),H(this,"sectionId",void 0),H(this,"defaultIndexFeatureImage",void 0),H(this,"SELECTOR_FOR_IMAGE_ITEM",".gp-image-item"),H(this,"SELECTOR_FOR_GALLERY_IMAGE_GRID",".gp-product-images-gallery .grid-gallery"),H(this,"SELECTOR_FOR_GALLERY_IMAGE_ITEM",".gp-gallery-image-item"),H(this,"SELECTOR_FOR_GALLERY_GRID_IMAGE_ITEM",".grid-gallery .gp-gallery-image-item"),H(this,"FEATURE_IMAGE_WRAPPER_CLASS",".gp-featured-image-wrapper"),H(this,"init",async()=>{if(this.sectionId=this.getAttribute("section-id"),this.handleMouseOnFeatureImage(),this.handleMouseOnGalleryGridItem(),this.currentDevice=R(),this.handleWindowResize(),this.setEventForGalleryImages(),this.handleFeaturedImageWrapper(),this.setEventForFeatureImages(),this.setEventForFeatureImageCarousel(),this.$featuredImage){let e=new ResizeObserver(()=>{this.setHeightForProductGallery(),this.setHeightForFeatureImageCarousel(),this.setHeightForImageWrapper(),this.setPositionForGallery()});e.observe(this.$featuredImage,{})}let e=this.querySelector(this.SELECTOR_FOR_GALLERY_IMAGE_GRID);if(e){let t=e.querySelectorAll(this.SELECTOR_FOR_GALLERY_IMAGE_ITEM),i=new ResizeObserver(()=>{let e=this.isOnlyImageListLayout();t.length&&t.forEach(t=>{if(e){let e=t.getAttribute("data-outline")||"active",i=t.getAttribute("data-outline-backup");i||t.setAttribute("data-outline-backup",e),t.setAttribute("data-outline","active")}else{let e=t.getAttribute("data-outline-backup");e&&(t.setAttribute("data-outline",e),t.removeAttribute("data-outline-backup"))}})});i.observe(e,{})}}),H(this,"setProductImageSelectors",()=>{var e,t,i,l,n;this.$featuredImage=null===(e=this.getElementsByClassName("featured-image-only"))||void 0===e?void 0:e[0],this.$gpProductImagesGallery=null===(t=this.getElementsByClassName("gp-product-images-gallery"))||void 0===t?void 0:t[0],this.$grid=null===(i=this.getElementsByClassName("grid-gallery"))||void 0===i?void 0:i[0],this.$carouselGallery=null===(l=this.getElementsByClassName("carousel-gallery"))||void 0===l?void 0:l[0],this.featureImageCarousel=null===(n=this.getElementsByClassName("gp-feature-image-carousel"))||void 0===n?void 0:n[0]}),H(this,"updateDataHiddenForInteraction",(e,t)=>{e&&e.querySelectorAll("gp-product-badge").forEach(e=>{let i=window.getComputedStyle(e).display;"none"===i?e.setAttribute("gp-data-hidden",null!=t?t:"true"):e.setAttribute("gp-data-hidden",null!=t?t:"false")})}),H(this,"displayProductBadgeByLayout",()=>{let e=this.getStyles(),t=this.getSetting(),i=R(),n=l(e.position,i),r=l(t.type,i),o=this.querySelectorAll('[type="gp-feature-image-carousel"]'),a=this.querySelectorAll('[type="grid-gallery"]');o.forEach(e=>{let t=window.getComputedStyle(e).display;this.updateDataHiddenForInteraction(e,"none"===t?"true":void 0)}),a.forEach(e=>{let t=window.getComputedStyle(e).display;["bottom-left","bottom-center","inside-bottom"].includes(n)&&"images"===r&&(t="none"),this.updateDataHiddenForInteraction(e,"none"===t?"true":void 0)})}),H(this,"displayGalleryImagesByLayout",()=>{let e=this.getStyles(),t=R(),i=l(e.position,t);if(this.displayProductBadgeByLayout(),this.$gpProductImagesGallery){var n;let e=null===(n=this.$gpProductImagesGallery.getElementsByClassName("grid-gallery"))||void 0===n?void 0:n[0],t=this.$gpProductImagesGallery.getElementsByClassName("gp-image-item").length;if(e){let e=t/2;this.setDisplayForImageList(this.$gpProductImagesGallery,e,i)}else{if(this.$grid){let e=this.$grid.getElementsByClassName("gp-image-item").length;e<=1&&(["one-col","two-col"].includes(i)?this.$grid.style.display="flex":this.$grid.style.display="none")}this.setDisplayForImageList(this.$gpProductImagesGallery,t,i)}}}),H(this,"getStyles",()=>{let e=this.getState("styles");return e}),H(this,"getSetting",()=>{let e=this.getState("setting");return e}),H(this,"getPositionByDevice",e=>{let t=this.getStyles();return l(null==t?void 0:t.position,e)}),H(this,"getCarouselLayout",()=>{let e=this.getStyles(),i={};return t.forEach(t=>{var l,n;let r=this.getPositionByDevice(t);i="right"==r||"left"==r?{...i,[t]:null==e?void 0:null===(l=e.verticalLayoutRow)||void 0===l?void 0:l[t]}:{...i,[t]:null==e?void 0:null===(n=e.verticalLayout)||void 0===n?void 0:n[t]}}),i}),H(this,"getWidthForGallery",()=>{let e=this.getStyles(),i=null==e?void 0:e.fullWidth,l=null==e?void 0:e.width;return t.forEach(t=>{var n,r,o,a,s;let d=null==e?void 0:null===(n=e.position)||void 0===n?void 0:n[t],u=(null===(r=i)||void 0===r?void 0:r[t])===void 0?null===(o=i)||void 0===o?void 0:o.desktop:null===(a=i)||void 0===a?void 0:a[t];i={...i,[t]:u},"bottom-left"===d||"bottom-center"===d||(i={...i,[t]:!1},l={...l,[t]:u?"100%":null==e?void 0:null===(s=e.width)||void 0===s?void 0:s[t]})}),{...n("w",r(l,i)),...n("maxw",r(l,i))}}),H(this,"getStyleOfObject",e=>{let t=Object.keys(e),i="";return t.forEach(t=>{i+=`${t}: ${e[t]};`}),i}),H(this,"setPositionForGallery",()=>{var e,t,i,l,n,r,o,a,s,d,u,c;if(!this.$gpProductImagesGallery)return;let h=R(),g=this.$gpProductImagesGallery.querySelectorAll(".gp-gallery-image-item > div");this.setHeightForCustomSize(g);let v=this.$grid.querySelectorAll(".gp-gallery-image-item img");if(this.setHeightForCustomSize(v),this.$grid){let n=null===(t=this.getPositionForGallery())||void 0===t?void 0:null===(e=t.left)||void 0===e?void 0:e[h];n?this.$grid.style.left=n:this.$grid.style.left="";let r=null===(l=this.getPositionForGallery())||void 0===l?void 0:null===(i=l.bottom)||void 0===i?void 0:i[h];r?this.$gpProductImagesGallery.style.bottom=r:this.$gpProductImagesGallery.style.bottom=""}if(this.$gpProductImagesGallery){let e=null===(r=this.getPositionForGallery())||void 0===r?void 0:null===(n=r.left)||void 0===n?void 0:n[h];e?this.$gpProductImagesGallery.style.left=e:this.$gpProductImagesGallery.style.left="";let t=null===(a=this.getPositionForGallery())||void 0===a?void 0:null===(o=a.right)||void 0===o?void 0:o[h];t?this.$gpProductImagesGallery.style.right=t:this.$gpProductImagesGallery.style.right="";let i=null===(d=this.getPositionForGallery())||void 0===d?void 0:null===(s=d.bottom)||void 0===s?void 0:s[h];i?this.$gpProductImagesGallery.style.bottom=i:this.$gpProductImagesGallery.style.bottom="";let l=null===(c=this.getPositionForGallery())||void 0===c?void 0:null===(u=c.top)||void 0===u?void 0:u[h];l?this.$gpProductImagesGallery.style.top=l:this.$gpProductImagesGallery.style.top=""}}),H(this,"setHeightForProductGallery",()=>{let e=R();if(this.$gpProductImagesGallery){let t=this.getHeightForGallery()[e]||0;t?this.$gpProductImagesGallery.style.height=t:this.$gpProductImagesGallery.style.height=""}}),H(this,"getHeightForImageCarousel",()=>{var e;let t=R(),i=this.getHeightForGallery()[t],l=(isNaN(Number(i))?null===(e=this.$featuredImage)||void 0===e?void 0:e.clientHeight:i)+"px";return l}),H(this,"setHeightForFeatureImageCarousel",()=>{var e;let t=null===(e=this.featureImageCarousel)||void 0===e?void 0:e.getElementsByClassName("gem-slider-item"),i=this.getHeightForImageCarousel();for(let e=0;e<(null==t?void 0:t.length);e++){let l=null==t?void 0:t.item(e);l&&(l.style.height=i)}}),H(this,"setHeightForImageWrapper",()=>{var e;let t=null===(e=this.featureImageCarousel)||void 0===e?void 0:e.getElementsByClassName("image-carousel-wrapper"),i=this.getHeightForImageCarousel();for(let e=0;e<(null==t?void 0:t.length);e++){let l=null==t?void 0:t.item(e);l&&(l.style.height=i)}}),H(this,"getPositionForGallery",()=>{let e={},i={},n={},r={},o=this.getStyles();return t.forEach(t=>{let a=l(null==o?void 0:o.position,t),s=l(null==o?void 0:o.spacing,t);["inside-left","inside-bottom"].includes(a)&&(e={...e,[t]:`${s}`}),["inside-right"].includes(a)&&(i={...i,[t]:`${s}`}),["inside-bottom"].includes(a)&&(n={...n,[t]:`${s}`}),["inside-left","inside-right"].includes(a)&&(r={...r,[t]:`${s}`})}),{left:e,right:i,bottom:n,top:r}}),H(this,"getHeightForGallery",()=>{let e={},i=this.getStyles();return t.forEach(t=>{var n;let r=l(null==i?void 0:i.position,t),o=["left","right"].includes(r),a=["inside-left","inside-right"].includes(r),s=l(null==i?void 0:i.spacing,t),d=(null===(n=this.$featuredImage)||void 0===n?void 0:n.clientHeight)||300,u=parseInt(s),c=u?`${d-2*u}px`:`calc(${d}px - ${s} * 2)`;e={...e,[t]:o?d+"px":a?c:"fit-content"}}),e}),H(this,"handleFirstActiveVariant",()=>{var e,t,i,l;let n;let r=this.getContext("variantSelected"),o=this.getState("setting"),a=this.getState("product"),s=0;if("all-images"===o.typeDisplay&&(null==a?void 0:null===(e=a.media)||void 0===e?void 0:e.length)>0)switch(null==o?void 0:o.preDisplay){case"1st-images":n=a.media[0],s=0;break;case"1st-3d-mode":n=a.media.find((e,t)=>{if("model"===e.media_type)return s=t,!0});break;case"1st-video":n=a.media.find((e,t)=>{if(["video","external_video"].includes(e.media_type))return s=t,!0});break;case"1st-available-variant":s=(null===(t=n=this.getActiveImage(null==r?void 0:r.featured_image))||void 0===t?void 0:t.index)||0}else s=(null===(i=n=this.getActiveImage(null==r?void 0:r.featured_image))||void 0===i?void 0:i.index)||0;n&&(n.index=(null===(l=n)||void 0===l?void 0:l.index)||s||0,this.handleChangeFeaturedImage(n),this.handleChangeZoomLensImage(n),this.handleActiveImagesWhenChangeVariant("grid-gallery",n),this.handleActiveImagesWhenChangeVariant("carousel-gallery",n))}),H(this,"handleChangeVariant",()=>{this.subscribeContext((e,t)=>{var i,l,n,r,o;if((null==e?void 0:null===(i=e.variantSelected)||void 0===i?void 0:i.id)===(null==t?void 0:null===(l=t.variantSelected)||void 0===l?void 0:l.id))return;this.isChangedVariant=!0;let a=null===(n=e.variantSelected)||void 0===n?void 0:n.featured_image;this.handleChangeFeaturedImageOnly(null===(o=e.variantSelected)||void 0===o?void 0:null===(r=o.featured_image)||void 0===r?void 0:r.src);let s=this.getActiveImage(a);s&&(this.handleChangeFeaturedImage(s),this.handleChangeZoomLensImage(s),this.handleActiveImagesWhenChangeVariant("grid-gallery",s),this.handleActiveImagesWhenChangeVariant("carousel-gallery",s))})}),H(this,"handleActiveImagesWhenChangeVariant",(e,t)=>{let i="grid-gallery"===e?this.$grid:this.$carouselGallery;if(!i||this.isHidden(i))return;let l=i.querySelectorAll(this.SELECTOR_FOR_IMAGE_ITEM);this.handleActiveImage(l[t.index]);let n=this.getState("id"),r=this.getState("product"),o=this.querySelector(`#gp-root-carousel-gp-gallery-${n}-${r.id}-${this.sectionId}`);o&&!this.isHidden(o)&&(null==o?void 0:o.moveToIdx)&&(null==o||o.moveToIdx(t.index))}),H(this,"getActiveImage",e=>{var t,i;let l=this.$grid||this.$carouselGallery||this.featureImageCarousel;if(!l)return;let n=l.querySelectorAll(this.SELECTOR_FOR_IMAGE_ITEM),r=null==e?void 0:e.id,o=-1;if(n.forEach((e,t)=>{var i;let l=null===(i=e.id.toString().split("-").slice(-1))||void 0===i?void 0:i[0];r&&r.toString()===l&&(o=t)}),o>=0){let l=null===(t=n[o])||void 0===t?void 0:t.querySelector("img"),r=null==l?void 0:null===(i=l.dataset)||void 0===i?void 0:i.src;return{src:(null==e?void 0:e.src)||r||(null==l?void 0:l.src),id:l.id,width:l.width,height:l.height,alt:l.alt,index:o}}}),H(this,"handleFeaturedImageWrapper",()=>{var e;let t=this.getSetting(),i=this.getState("product"),n=this.getState("productUrl"),r=(null==i?void 0:i.handle)?function(...e){let t=Array.from(Array.isArray(e[0])?e[0]:e);return function(e){let t=[];if(0===e.length)return"";if("string"!=typeof e[0])throw TypeError("Url must be a string. Received "+e[0]);e[0].match(/^[^/:]+:\/*$/)&&e.length>1&&(e[0]=e.shift()+e[0]),e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(let i=0;i<e.length;i++){let l=e[i];if("string"!=typeof l)throw TypeError("Url must be a string. Received "+l);""!==l&&(i>0&&(l=l.replace(/^\/+/,"")),l=i<e.length-1?l.replace(/\/+$/,""):l.replace(/\/+$/,"/"),t.push(l))}let i=t.join("/");i=i.replace(/\/(\?|&|#[^!])/g,"$1");let l=i.split("?");return l.shift()+(l.length>0?"?":"")+l.join("&")}(t)}("/products",i.handle):"#",o=(null==t?void 0:t.clickEffect)!==void 0&&(null==t?void 0:t.clickEffect)=="link";if(o){let e=this.featureImageCarousel;e.href=null!=n?n:r}else{if(!(null==t?void 0:t.ftClickOpenLightBox))return;let n=null===(e=this.featureImageCarousel)||void 0===e?void 0:e.querySelectorAll(".gp-ft-image-item");null==n||n.forEach(e=>{let n=null==e?void 0:e.getAttribute("data-event-click");n||(e.setAttribute("data-event-click","true"),e.addEventListener("click",()=>{var n,r,o;let a=R(),s=l(null==t?void 0:t.ftClickOpenLightBox,a);if(!s)return;let d=this.querySelectorAll(this.SELECTOR_FOR_IMAGE_ITEM),u=e.querySelector("img"),c=e.querySelector(".feature-video"),h=e.querySelector("model-viewer");if(h||c){let e=h?null==h?void 0:h.getAttribute("src"):null==c?void 0:c.getAttribute("src"),t=null===(n=i.media.find(t=>{var i;return null==t?void 0:null===(i=t.sources)||void 0===i?void 0:i.find(t=>(null==t?void 0:t.url)==e)}))||void 0===n?void 0:n.position;t||d.forEach(i=>{let l=h?i.getAttribute("media-source-url"):i.getAttribute("media-last-source-url");l==e&&(t=parseInt(i.getAttribute("grid-index")||"0"))});let l={src:e,width:parseInt(null==h?void 0:h.getAttribute("width")),height:parseInt(null==h?void 0:h.getAttribute("height")),index:t&&t>=1?t-1:t||0};this.handleClickImage(l,this.getSetting().ftClickOpenLightBox,!1)}if(u){let e=null==u?void 0:null===(r=u.dataset)||void 0===r?void 0:r.src,t=null==u?void 0:null===(o=u.src)||void 0===o?void 0:o.replace("_1024x1024",""),l=null==i?void 0:i.media.findIndex(e=>"image"===e.media_type&&t.includes(null==e?void 0:e.src.trim())),n={src:e||u.src,id:u.id,width:u.width,height:u.height,alt:u.alt,index:l};this.handleClickImage(n,this.getSetting().ftClickOpenLightBox,!1)}}))})}}),H(this,"isExistModel3DInGallery",()=>{let e=this.getState("product"),t=e.media.find(e=>"model"===e.media_type);return!!t}),H(this,"handleMouseOnFeatureImage",()=>{var e,t,i;let l=null===(e=this.featureImageCarousel)||void 0===e?void 0:e.querySelectorAll(this.SELECTOR_FOR_IMAGE_ITEM);if(!(null==l?void 0:l.length))return;let n=this.getSetting(),r=this.getState("product"),o=(null!==(i=null==r?void 0:null===(t=r.media)||void 0===t?void 0:t.length)&&void 0!==i?i:0)===1,a=(n.otherImage||0)>(null==l?void 0:l.length)-1?(null==l?void 0:l.length)-1:n.otherImage;null==l||l.forEach(e=>{null==e||e.addEventListener("mousemove",t=>{let i=e.querySelector("model-viewer");i&&t.stopPropagation();let l=this.querySelector(this.FEATURE_IMAGE_WRAPPER_CLASS);this.handleMouseMove(t,l,{hoverEffect:n.hoverEffect,zoom:n.zoom,zoomType:n.zoomType,otherImage:o?1:a})}),null==e||e.addEventListener("mouseout",e=>{this.handleMouseOut(e)})})}),H(this,"handleMouseOnGalleryGridItem",()=>{let e=this.querySelectorAll(this.SELECTOR_FOR_GALLERY_GRID_IMAGE_ITEM);if(this.getSetting().galleryHoverEffect&&"none"!=this.getSetting().galleryHoverEffect){let t=this.getSetting();e.forEach(e=>{null==e||e.addEventListener("mousemove",e=>{e.stopPropagation();let i=e.currentTarget;this.handleMouseMove(e,i,{hoverEffect:t.galleryHoverEffect,zoom:t.galleryZoom,zoomType:t.galleryZoomType})}),null==e||e.addEventListener("mouseout",e=>{e.stopPropagation(),this.handleMouseOut(e)})})}}),H(this,"displayZoomImage",({event:e,featureImageDom:t,zoomSize:i,zoomSizeHeight:l,imagePosition:n,slideWidth:r,imageOffsetX:o,imageOffsetY:a,$zoomElement:s,$zoomLens:d,setting:u,isEnableShowOtherImage:c=!1})=>{if(s){if(s.style.width=`${i}px`,c?s.style.height="100%":s.style.height=`${l}px`,e.clientX>=(null==n?void 0:n.x)&&e.clientX<=n.right&&e.clientY>=(null==n?void 0:n.y)&&e.clientY<=n.bottom?(((null==u?void 0:u.hoverEffect)=="zoom"&&(null==u?void 0:u.zoomType)=="default"||(null==u?void 0:u.hoverEffect)=="other")&&(s.style.opacity="1",s.style.zIndex="1"),d&&(null==u?void 0:u.hoverEffect)=="zoom"&&(null==u?void 0:u.zoomType)=="glasses"&&(d.style.opacity="1",d.style.zIndex="1")):(s.style.opacity="0",s.style.zIndex="-1",d&&(d.style.opacity="0"),d&&(d.style.zIndex="-1")),r&&(null==u?void 0:u.hoverEffect)=="zoom"&&(null==u?void 0:u.zoomType)=="default"){let e=o/(null==t?void 0:t.offsetWidth),l=a/(null==t?void 0:t.offsetHeight);s.style.top=((null==t?void 0:t.offsetHeight)-s.offsetHeight)*l+"px",s.style.left=(r-i)*e+"px"}(null==u?void 0:u.hoverEffect)=="other"&&(s.style.top="0px",s.style.left="0px")}}),H(this,"handleMouseMove",(e,t,l)=>{var n,r,o,a,s,d;let u=null===(n=e.currentTarget)||void 0===n?void 0:n.querySelector("img"),c=null==u?void 0:u.getBoundingClientRect(),h=null===(o=e.currentTarget)||void 0===o?void 0:null===(r=o.getElementsByClassName("zoom-element"))||void 0===r?void 0:r[0],g=null===(s=e.currentTarget)||void 0===s?void 0:null===(a=s.getElementsByClassName("zoom-lens-element"))||void 0===a?void 0:a[0],v=this.getSetting(),p=this.getState("product");if("other"===v.hoverEffect&&1===p.media.length){let e=h.querySelector("img");null==e||e.setAttribute("srcSet",null===(d=p.media[0])||void 0===d?void 0:d.src)}let m=(null==t?void 0:t.clientWidth)||0,f=(null==t?void 0:t.clientHeight)||0,y=(null==l?void 0:l.hoverEffect)=="other",b=i(null==l?void 0:l.zoom,0),I=!b||b<100?1:b/100||1,E=(m||1)*((null==l?void 0:l.hoverEffect)=="other"?1:I||1),x=(f||1)*((null==l?void 0:l.hoverEffect)=="other"?1:I),w=e.clientX-(null==c?void 0:c.x),S=e.clientY-(null==c?void 0:c.y);if((b&&b>100||(null==l?void 0:l.hoverEffect)==="other")&&this.displayZoomImage({event:e,featureImageDom:u,zoomSize:E,zoomSizeHeight:x,imagePosition:c,slideWidth:m,imageOffsetX:w,imageOffsetY:S,$zoomElement:h,$zoomLens:g,setting:l,isEnableShowOtherImage:y}),(null==l?void 0:l.hoverEffect)=="zoom"&&(null==l?void 0:l.zoomType)=="glasses"&&g){let e=g.offsetWidth/2,t=g.offsetHeight/2,i=f||1;w>m-e/I&&(w=m-e/I),w<e/I&&(w=e/I),S>i-t/I&&(S=i-t/I),S<t/I&&(S=t/I),g.style.top=S-t+"px",g.style.left=w-e+"px",g.style.backgroundSize=E+"px "+i*I+"px",g.style.backgroundPosition=`-${w*I-e}px -${S*I-t}px`}}),H(this,"getLayoutByCurrentScreen",()=>l(this.getStyles().position,R())),H(this,"isOnlyImageListLayout",()=>!1),H(this,"handleMouseOut",e=>{var t,i,l,n;let r=null===(i=e.currentTarget)||void 0===i?void 0:null===(t=i.getElementsByClassName("zoom-element"))||void 0===t?void 0:t[0],o=null===(n=e.currentTarget)||void 0===n?void 0:null===(l=n.getElementsByClassName(".zoom-lens-element"))||void 0===l?void 0:l[0];r&&(r.style.opacity="0",r.style.zIndex="-1"),o&&(o.style.opacity="0",o.style.zIndex="-1")}),H(this,"handleActiveImage",(e,t)=>{if(this.isOnlyImageListLayout()&&t)return;let i=this.querySelectorAll(this.SELECTOR_FOR_IMAGE_ITEM),l=this.getSetting();i.forEach(e=>{let i=e.getAttribute("id");((null==l?void 0:l.borderActive)&&i!==this.currentActiveImageID||t)&&e.setAttribute("data-outline","deactive")}),e&&(null==l?void 0:l.borderActive)&&(this.isOnlyImageListLayout()?e.setAttribute("data-outline-backup","active"):e.setAttribute("data-outline","active"),this.currentActiveImageID=e.getAttribute("id")||"")}),H(this,"setEventForFeatureImageCarousel",()=>{let e=this.querySelector("gp-carousel.gp-feature-image-carousel");e&&(null==e||e.addEventListener("changeActiveIndex",this.handleActiveImageWhenFeatureImageNextSlide))}),H(this,"handleActiveImageWhenFeatureImageNextSlide",()=>{var e,t,i;let l=this.querySelector("gp-carousel.gp-feature-image-carousel");if(!l)return;let n=parseInt(l.getAttribute("active-index")||"0"),r=this.getState("product"),o=r.media[n];if(!o)return;let a=this.getLayoutByCurrentScreen();if("two-col"===a&&this.$carouselGallery){null===(e=this.$carouselGallery.querySelector('[data-outline="active"]'))||void 0===e||e.setAttribute("data-outline","deactive"),null===(t=this.$carouselGallery.querySelector(`[grid-index="${n+1}"]`))||void 0===t||t.setAttribute("data-outline","active");return}let s={id:o.id,index:n,width:1024,height:1024,src:null!==(i=o.src)&&void 0!==i?i:o.preview_image.src};this.currentActiveImageID=o.id,this.handleActiveImagesWhenChangeVariant("grid-gallery",s),this.handleActiveImagesWhenChangeVariant("carousel-gallery",s)}),H(this,"setEventForGalleryImages",()=>{let e=this.querySelectorAll(this.SELECTOR_FOR_GALLERY_IMAGE_ITEM);e.forEach((t,i)=>{let l=t.querySelector("img");l&&(null==t||t.addEventListener("click",()=>{var n,r,o;let a=null==l?void 0:null===(n=l.dataset)||void 0===n?void 0:n.src,s=null==l?void 0:null===(r=l.dataset)||void 0===r?void 0:r.contenttype,d=null==l?void 0:null===(o=l.dataset)||void 0===o?void 0:o.code,u={src:a||l.src,id:l.id,width:l.width,height:l.height,alt:l.alt,index:i<e.length/2?i:i-e.length/2,contentType:s,code:d};this.handleActiveImage(t,!0),this.handleClickImage(u,this.getSetting().clickOpenLightBox)}))})}),H(this,"setEventForFeatureImages",()=>{let e=this.querySelectorAll(".gp-ft-image-item");e.forEach((e,t)=>{let i=e.querySelector("img"),l=null==e?void 0:e.getAttribute("data-event-click");i&&!l&&(null==e||e.setAttribute("data-event-click","true"),null==e||e.addEventListener("click",()=>{var e,l,n;let r=null==i?void 0:null===(e=i.dataset)||void 0===e?void 0:e.src,o=null==i?void 0:null===(l=i.dataset)||void 0===l?void 0:l.contenttype,a=null==i?void 0:null===(n=i.dataset)||void 0===n?void 0:n.code,s={src:r||i.src,id:i.id,width:i.width,height:i.height,alt:i.alt,index:t,contentType:o,code:a};this.handleClickImage(s,this.getSetting().ftClickOpenLightBox,!1)}))})}),H(this,"renderModal3d",(e,t)=>{let i=document.createElement("model-viewer");return i.setAttribute("class","model-viewer gp-z-10"),i.setAttribute("src",null!=e?e:""),i.setAttribute("poster",null!=t?t:""),i.setAttribute("camera-controls","true"),i.setAttribute("data-js-focus-visible","true"),i.setAttribute("data-shopify-feature","true"),i.setAttribute("ar-status","not-presenting"),Object.assign(i.style,{width:"100%",height:"100%"}),i}),H(this,"renderVideo",(e,t)=>{let i=document.createElement("video");return i.setAttribute("class","feature-video"),i.setAttribute("src",null!=e?e:""),i.setAttribute("poster",null!=t?t:""),i.setAttribute("controls","true"),Object.assign(i.style,{width:"calc(100% - 2px)","max-height":"100%"}),i}),H(this,"handleOpenModal",e=>{let t=document.getElementById("gp-modal-product-image");t&&t.remove(),this.createModelViewImages(e)}),H(this,"renderImageItems",e=>{let t="";return e.forEach(e=>{t+=`<div class="gem-slider-item" style="height: 100%;"><img style="width: 100%; height: 100%; object-fit: contain;
      object-position: center; top: 0; left: 0" src="${e}" /></div>`}),t}),H(this,"sliderTemplate",e=>`<div class="gem-slider-item" style="height: 100%; text-align: center; padding-left: 2px; padding-right: 2px; display: flex; align-items: center">
              ${e}
          </div>`),H(this,"renderMediaItem",e=>{let t=this.$grid||this.$carouselGallery,i="";return e.forEach(e=>{var l,n,r,o,a,s;if("model"===e.media_type){let t=this.makeMediaSource(e.sources,!0);i+=this.sliderTemplate(null===(l=this.renderModal3d(null==t?void 0:t.url,null==e?void 0:null===(n=e.preview_image)||void 0===n?void 0:n.src))||void 0===l?void 0:l.outerHTML)}else if("video"===e.media_type){let t=this.makeMediaSource(e.sources,!1);i+=this.sliderTemplate(null===(r=this.renderVideo(null==t?void 0:t.url,null==e?void 0:null===(o=e.preview_image)||void 0===o?void 0:o.src))||void 0===r?void 0:r.outerHTML)}else if("external_video"===e.media_type){let l=this.makeMediaSource(e.sources,!1),n=null==l?void 0:l.url;l||(n=(null==t?void 0:null===(s=t.querySelector(`[external-id="${e.external_id}"]`))||void 0===s?void 0:s.getAttribute("media-last-source-url"))||""),i+=this.sliderTemplate(null===(a=this.renderExternalVideo(n))||void 0===a?void 0:a.outerHTML)}else if("image"===e.media_type){let t=P(null==e?void 0:e.src,"3000x3000");i+=this.sliderTemplate(`<img style="width: 100%; height: 100%; object-fit: contain;
            object-position: center; top: 0; left: 0" src="${t}" />`)}}),i}),H(this,"makeMediaSource",(e,t)=>{if(!e)return;if(t)return e.find(e=>"glb"===e.format);let i=e.find(e=>"mp4"===e.format&&1080===e.height);return i||e.find(e=>"mp4"===e.format)}),H(this,"navigationStyle",`
      <style>
        .navigation-wrapper {
          position: relative;
          width: 100%;
          height: 80vh;
        }
        .dots {
          display: flex;
          justify-content: center;
          position: absolute;
          bottom: -17px;
          left: 50%;
          transform: translateX(-50%);
        }
  
        .dot {
          border: none;
          width: 12px;
          height: 12px;
          background: #E2E2E2;
          border-radius: 50%;
          margin: 0 4px;
          padding: 6px;
          cursor: pointer;
          display: block !important;
        }
  
        .dot:focus {
          outline: none;
        }
  
        .dot--active {
          background: #121212;
        }
  
        .arrow {
          width: 24px;
          height: 24px;
          position: absolute;
          top: 50%;
          transform: translateY(-50%);
          -webkit-transform: translateY(-50%);
          cursor: pointer;
          display: block;
        }
  
        .arrow--left {
          left: 4px;
          background-image: url("data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' fill='%236B7280' viewBox='0 0 24 24' %3E%3Cpath d='M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z' %3E%3C/path%3E%3C/svg%3E");
        }
  
        .arrow--right {
          left: auto;
          right: 4px;
          background-image: url("data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' fill='%236B7280'  viewBox='0 0 24 24' %3E%3Cpath d='M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z'%3E%3C/path%3E%3C/svg%3E");
        }
  
        @media (max-width: 992px) {
          .gp-modal-product-image-wrapper {
            width: 100% !important;
          }
  
          .navigation-wrapper {
            height: 60vh !important;
          }
  
          .arrow {
            width: 24px;
            height: 24px;
          }
  
          .arrow--right {
            left: auto;
            right: -20px;
          }
  
          .arrow--left {
            right: auto;
            left: -20px;
          }
        }
      </style>
    `),H(this,"createModelViewImages",async e=>{var t,i,l;let n=this.getState("product"),r=document.createElement("div");r.id="gp-modal-product-image",r.style.cssText=`
        width: 100%;
        height: 100vh;
        position: fixed;
        background-color: transparent;
        top: 0;
        left: 0;
        z-index: 9999;
      `;let o=this.renderMediaItem(n.media),a=`
        ${this.navigationStyle}
        <div style="width: 100%; height: 100%; position: relative; padding: 0 16px;
        display: flex; align-items: center; justify-content: center">
          <div id="gp-modal-product-image-overlay" style="background-color: rgb(0 0 0 / 0.6); width: 100%; height: 100%; position: absolute; z-index: 0; display: block !important"></div>
          <div class="gp-modal-product-image-wrapper" style="width: 80%; background-color: #fff; border-radius: 3px; padding: 24px; overflow: hidden; z-index: 1; position: relative;">
            <div id="gp-close-product-popup" style="width: 20px; height: 20px; display: flex; position: absolute; top: 16px; right: 16px; z-index: 2; cursor: pointer">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11.1758 12.0241C11.4101 12.2584 11.79 12.2584 12.0243 12.0241C12.2586 11.7898 12.2586 11.4099 12.0243 11.1755L8.84858 7.9998L12.0243 4.82407C12.2586 4.58975 12.2586 4.20986 12.0243 3.97554C11.79 3.74123 11.4101 3.74123 11.1758 3.97554L8.00005 7.15128L4.82431 3.97554C4.59 3.74123 4.2101 3.74123 3.97578 3.97554C3.74147 4.20986 3.74147 4.58975 3.97578 4.82407L7.15152 7.9998L3.97579 11.1755C3.74147 11.4099 3.74147 11.7898 3.97579 12.0241C4.2101 12.2584 4.59 12.2584 4.82431 12.0241L8.00005 8.84833L11.1758 12.0241Z" fill="#676767"/>
              </svg>
  
            </div>
            <div id="gp-keen-slider" style="width: 100%; height: 100%; display: flex; position: relative; overflow: hidden;">
              ${o}
            </div>
            <div></div>
          </div>
        </div>
        `;r.innerHTML=a,null===(t=document.querySelector("body"))||void 0===t||t.appendChild(r);let s=new G("#gp-keen-slider",{selector:".gem-slider-item",loop:!1,vertical:!1,slides:{origin:"center",perView:1}},[this.sliderNavigation]);e&&e.index>-1&&s.moveToIdx(null==e?void 0:e.index),null===(i=r.querySelector("#gp-modal-product-image-overlay"))||void 0===i||i.addEventListener("click",()=>{r.remove()}),null===(l=r.querySelector("#gp-close-product-popup"))||void 0===l||l.addEventListener("click",()=>{r.remove()})}),H(this,"sliderNavigation",e=>{let t,i,l,n;let r=e.slides.length<2;function o(o){(function(i){if(i){let e=t.parentNode;for(;t.firstChild;)null==e||e.insertBefore(t.firstChild,t);a(t);return}t=s("navigation-wrapper"),e.container.parentNode.appendChild(t),t.appendChild(e.container)})(o),r||(function(l){if(l){a(i);return}i=s("dots"),e.track.details.slides.forEach((t,l)=>{let n=s("dot");n.addEventListener("click",()=>e.moveToIdx(l)),i.appendChild(n)}),t.appendChild(i)}(o),function(i){if(i){a(l),a(n);return}(l=s("arrow arrow--left")).addEventListener("click",()=>e.prev()),(n=s("arrow arrow--right")).addEventListener("click",()=>e.next()),t.appendChild(l),t.appendChild(n)}(o))}function a(e){var t;null==e||null===(t=e.parentNode)||void 0===t||t.removeChild(e)}function s(e){let t=document.createElement("div"),i=e.split(" ");return i.forEach(e=>t.classList.add(e)),t}function d(){var t,o,a;if(r)return;let s=e.track.details.rel,d=e.options.loop;l.style.display=0!==s||d?"block":"none",n.style.display=s!==(null==e?void 0:null===(a=e.track)||void 0===a?void 0:null===(o=a.details)||void 0===o?void 0:null===(t=o.slides)||void 0===t?void 0:t.length)-1||d?"block":"none",Array.from(i.children).forEach(function(e,t){t===s?e.classList.add("dot--active"):e.classList.remove("dot--active")})}e.on("created",()=>{o(),d()}),e.on("optionsChanged",()=>{o(!0),o(),d()}),e.on("slideChanged",()=>{let i=t.querySelectorAll("iframe"),l=t.querySelectorAll("video");this.pauseAllVideo(i,l),d();let n=e.track.details.rel,r=e.slides[n],o=r.querySelectorAll("iframe"),a=r.querySelectorAll("video");this.playCurrentSlideVideo(o,a)}),e.on("destroyed",()=>{o(!0)})}),H(this,"handleClickImage",(e,t,i=!0)=>{let n=l(t,this.currentDevice);if("product-link"===n){this.navigateToProductPage();return}(!0===n||"popup"===n)&&this.handleOpenModal(e);let r=this.querySelector(".modal-wrapper"),o=null==r?void 0:r.querySelector("gp-carousel");e&&o&&(null==o||o.moveToIdx(e.index||0)),i&&!this.isOnlyImageListLayout()&&(this.handleChangeFeaturedImageOnly(e.src),this.handleChangeFeaturedImage(e))}),H(this,"resizeImageByQuery",(e,t,i=2)=>{let l=/\?.+=.+/.test(e);return l?`${e}&width=${t*i}`:`${e}?width=${t}`}),H(this,"handleChangeFeaturedImageOnly",e=>{let t=this.querySelectorAll(".gp-feature-image-only img");t.length&&e&&t.forEach(t=>{let i=t.clientWidth,l=this.resizeImageByQuery(e,i);t.setAttribute("src",l),t.setAttribute("srcSet",l)})}),H(this,"getProductUrl",(e=!1)=>{var t,i,l,n,r;let{product:o,collection:a,productUrl:s,collectionUrl:d,pageContext:u}=this.getState(),c=`/products/${o.handle}`,h=null!==(r=null===(n=window)||void 0===n?void 0:null===(l=n.Shopify)||void 0===l?void 0:null===(i=l.routes)||void 0===i?void 0:null===(t=i.root)||void 0===t?void 0:t.replace(/\/+$/,""))&&void 0!==r?r:"";if(e&&a&&d&&(null==u?void 0:u.hasCollectionHandle)){let e=null!=d?d:`/collections/${a.handle}`;return e.startsWith(`${h}/`)?`${e}${c}`:`${h}${e}${c}`}let g=null!=s?s:c;return g.startsWith(`${h}/`)?g:`${h}${g}`}),H(this,"navigateToProductPage",()=>{let e=this.getProductUrl(q()),t=this.getContext("variantSelected"),i=this.isChangedVariant?this.updateUrlWithVariant(e,t):e,l=this.getSetting().ftClickOpenNewTab;l?window.open(i,"_blank"):window.location.href=i}),H(this,"updateUrlWithVariant",(e,t)=>{let i=new URL(e,window.location.origin);return(null==t?void 0:t.id)?i.searchParams.set(W,t.id.toString()):i.searchParams.delete(W),i.toString()}),H(this,"handleChangeFeaturedImage",e=>setTimeout(()=>{let t=this.closest("gp-product"),i=null==t?void 0:t.querySelectorAll("gp-carousel.gp-feature-image-carousel");i&&i.length&&i.forEach(t=>{let i=t.querySelectorAll("iframe"),l=t.querySelectorAll("video");this.pauseAllVideo(i,l),t.moveToIdx(e.index||0);let n=e.index;t.setAttribute("active-index",n.toString());let r=t.querySelectorAll(".gem-slider-item")[n],o=null==r?void 0:r.querySelectorAll("iframe"),a=null==r?void 0:r.querySelectorAll("video");setTimeout(()=>{this.playCurrentSlideVideo(o,a)},1e3)})},0)),H(this,"handleChangeZoomLensImage",e=>{let t=this.querySelector(".zoom-lens-element");t&&(t.style.backgroundImage="url("+P(e.src,"1024x1024")+")")}),H(this,"handleWindowResize",()=>{this.displayGalleryImagesByLayout(),window.addEventListener("resize",()=>{this.displayGalleryImagesByLayout(),this.currentDevice=R()},!0)}),H(this,"slideMoveToIndex",e=>{let t=this.querySelector("gp-carousel.gp-feature-image-carousel");t&&(null==t?void 0:t.moveToIdx)&&(null==t||t.moveToIdx(e))}),H(this,"nextSlide",e=>{let{key:t,data:i,isRollback:l}=e,n=this.querySelector("gp-carousel.gp-feature-image-carousel");n&&(null==n||n.nextSlide({key:t,data:i,isRollback:l,element:this}))}),H(this,"previousSlide",e=>{let{key:t,data:i,isRollback:l}=e,n=this.querySelector("gp-carousel.gp-feature-image-carousel");n&&(null==n||n.previousSlide({key:t,data:i,isRollback:l,element:this}))}),H(this,"getCurrentFeaturedImageIndex",()=>{let e=this.querySelector("gp-carousel.gp-feature-image-carousel"),t=parseInt((null==e?void 0:e.getAttribute("active-index"))||"0");return t}),H(this,"onListenerInteraction",()=>{this.onTrigger&&this.onTrigger({event:"gp:change-image-step"},e=>{let{data:t,isRollback:i,uniqueStorageKey:l}=e||{};void 0===this.defaultIndexFeatureImage&&(this.defaultIndexFeatureImage=this.getCurrentFeaturedImageIndex()),i||B(this,l,this.defaultIndexFeatureImage.toString()),this.slideMoveToIndex(Number(t))})}),H(this,"onListenerChangeSlideInteraction",()=>{this.onTrigger&&(this.onTrigger({event:"gp:change-previous-slide"},e=>{let{isRollback:t,uniqueStorageKey:i,data:l}=e||{};this.previousSlide({key:i,data:l,isRollback:t})}),this.onTrigger({event:"gp:change-next-slide"},e=>{let{isRollback:t,uniqueStorageKey:i,data:l}=e||{};this.nextSlide({key:i,data:l,isRollback:t})}))})}};let j=()=>{window.removeEventListener("gp-global-loaded",j),customElements.get("gp-product-images-v2")||customElements.define("gp-product-images-v2",V())};"completed"===window.gpReadyState?j():window.addEventListener("gp-global-loaded",j),e.defineComponentProductImageV2=j}({});
