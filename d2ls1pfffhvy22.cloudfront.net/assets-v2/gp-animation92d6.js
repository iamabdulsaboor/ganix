!function(){"use strict";let t={ease:"cubic-bezier(0.46,0.03,0.52,0.96)","ease-in":"cubic-bezier(0.55,0.08,0.68,0.53)","ease-out":"cubic-bezier(0.46,0.03,0.52,0.96)",linear:"linear"},i=i=>{let e=t=>{let i=JSON.parse(JSON.stringify(t));return["delay","speed","scale","intensity"].forEach(t=>{var e,n,a,o;if(!(null==i?void 0:i[t]))return;if("scale"===t){if(!(null==i?void 0:i.zoomDirection))throw TypeError("zoomDirection not found on zoom preset");let[s,r]=null!==(a=null==i?void 0:null===(e=i.scale)||void 0===e?void 0:e.in)&&void 0!==a?a:[1,1],[l,p]=null!==(o=null==i?void 0:null===(n=i.scale)||void 0===n?void 0:n.out)&&void 0!==o?o:[1,1];i[t]={in:[Number(s)/100,Number(r)/100],out:[Number(l)/100,Number(p)/100]};return}let s=Number(null==i?void 0:i[t]);if("delay"===t?i[t]=1e3*s:i[t]=s,!isFinite(s))throw TypeError(`${t} must be a number`)}),i},n=(i,e)=>{let{loop:n,delay:a,speed:o,easing:s}=null!=i?i:{},r=o?1.5/o*1e3:e,l=null!=a?a:0;return{iterations:n?1/0:1,duration:n?r+l:r,delay:l,easing:t[null!=s?s:"linear"]}},a=t=>i||0===i?i:window.getComputedStyle(t,null).getPropertyValue("opacity"),o=(t,i,e)=>{if(!i)return t;let n=[...t].pop();return[...t,{...n,offset:1-i/e}]},s=(t,i,e)=>{var n,a;let s=new KeyframeEffect(t,e.iterations&&1===e.iterations?i:o(i,null!==(n=null==e?void 0:e.delay)&&void 0!==n?n:0,null!==(a=null==e?void 0:e.duration)&&void 0!==a?a:0),{...e});return new Animation(s,document.timeline)};return{zoom:(t,i,o)=>{let r=e(i),{scale:l,zoomDirection:p,isFade:d}=r,[h,v]=l.in,[c,m]=l.out,u=a(t),y=[{transform:`scale(${h}, ${h})`,opacity:d?0:u},{transform:`scale(${null!=v?v:1.2}, ${null!=v?v:1.2})`,opacity:u}],g=[{transform:`scale(${c}, ${c})`,opacity:d?0:u},{transform:`scale(${null!=m?m:.8}, ${null!=m?m:.8})`,opacity:u}],b="in"===p?y:g;return o&&(b="in"===p?g:y),s(t,o?b.reverse():b,{...n(r,700),fill:"forwards"})},shake:(t,i)=>{let o=e(i),{intensity:r}=null!=o?o:{},l=a(t),p=[{transform:"translate3d(0, 0, 0)",opacity:l}],d=[{transform:"translate3d(4px, 0, 0)",opacity:l},{transform:"translate3d(-4px, 0, 0)",opacity:l},{transform:"translate3d(4px, 0, 0)",opacity:l}],h=[];Array.from(Array(null!=r?r:1).keys()).forEach(()=>{h=[...h,...d]});let v=[{transform:"translate3d(-1px, 0, 0)",opacity:l},{transform:"translate3d(2px, 0, 0)",opacity:l},{transform:"translate3d(-4px, 0, 0)",opacity:l},...h,{transform:"translate3d(-4px, 0, 0)",opacity:l},{transform:"translate3d(2px, 0, 0)",opacity:l},{transform:"translate3d(-1px, 0, 0)",opacity:l}];return s(t,r?v:p,{...n(null!=o?o:{},820),fill:"forwards"})},fade:(t,i,o)=>{let r=e(i),l=[{opacity:0},{opacity:a(t)}];return s(t,o?l.reverse():l,{...n(r,500),fill:"forwards"})},slide:(t,i,o)=>{let r=e(i),{direction:l,distance:p}=r,d=["left","right"].includes(null!=l?l:"")?"X":"Y",h=["left","down"].includes(null!=l?l:"")?"-":"";o&&(h=["left","down"].includes(null!=l?l:"")?"":"-");let v=[{opacity:0,transform:`translate${d}(${h}${null!=p?p:50}%)`},{opacity:a(t),transform:`translate${d}(0)`}];return s(t,o?v.reverse():v,{...n(r,500),fill:"forwards"})}}};function e(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}(a=o||(o={})).Appear="appear",a.Hover="hover",a.Hidden="hidden",a.AppearByTrigger="appearByTrigger";let n={Button:".gp-button-base",ProductButton:".gp-product-button",Sticky:"gp-sticky",Dialog:"div[role=dialog]",Icon:"div div",ProductTag:"div div div",Product:"product-form form div"};var a,o,s=()=>class{init(){var t;this.containerSelector=`animation-wrapper-${Math.random().toString(36).substr(2,5)}`,this.context.setAttribute("data-animationId",this.containerSelector),this.animationPresets=i(),this.tag=this.context.getState("tag"),this.opacity=this.context.getState("opacity"),this.containerElement=document.querySelector(`[data-animationId='${this.containerSelector}']`),Object.keys(n).includes(this.tag||"")?this.animationElement=document.querySelector(`[data-animationId='${this.containerSelector}'] div ${null!==(t=null==n?void 0:n[this.tag||""])&&void 0!==t?t:""}`):this.animationElement=document.querySelector(`[data-animationId='${this.containerSelector}'] div > :first-of-type:not(script,link)`),this.containerElement&&this.animationElement&&(this.baseAnimationElementOpacity=this.getBaseOpacityByDevice().toString())}initAnimation(t){if(this.reset(),this.containerElement&&this.animationElement){if(!(null==t?void 0:t.enabled)){this.removeZeroOpacity();return}this.animationAppearType=this.getAnimationType(t,t.trigger),"none"===this.animationAppearType&&this.removeZeroOpacity(),this.playAppear=i=>{var e;i&&i.stopPropagation(),document.body.style.overflowX="hidden";let n=t.trigger===o.Hidden;"shake"===this.animationAppearType||n||this.applyInitOpacity(),this.animationAppearInstance&&(this.appearPlay(),this.animationAppearInstance.finished.then(()=>{this.animationElement&&this.removeZeroOpacity()}),this.animationElement&&(null===(e=this.observer)||void 0===e||e.unobserve(this.animationElement)))},"none"!==this.animationAppearType?(this.initAppearInstance(t),this.observer=new IntersectionObserver(t=>{t.forEach(()=>{this.playAppear()})},{root:null,rootMargin:"0px",threshold:[.05]}),this.observer.observe(this.animationElement)):this.removeZeroOpacity()}}removeZeroOpacity(){let t=document.querySelector(`[data-animationId='${this.containerSelector}'] div`);t&&(t.style.visibility="visible",t.style.opacity="1"),this.animationElement&&(this.animationElement.style.opacity=this.baseAnimationElementOpacity)}applyInitOpacity(){let t=document.querySelector(`[data-animationId='${this.containerSelector}'] div`);t&&(t.style.visibility="visible",t.style.opacity="1"),this.animationElement&&(this.animationElement.style.opacity="0")}appearPlay(t){this.animationAppearInstance&&(this.animationAppearInstance.playbackRate=null!=t?t:1,this.animationAppearInstance.play())}getAnimationType(t,i){var e,n,a;return null!==(a=null==t?void 0:null===(n=t.triggerConfig)||void 0===n?void 0:null===(e=n[i])||void 0===e?void 0:e.animation)&&void 0!==a?a:"none"}initAppearInstance(t){var i,e,n,a,s;if("none"===this.animationAppearType)return;let r=t.trigger===o.Hidden,l=null==t?void 0:null===(n=t.triggerConfig)||void 0===n?void 0:null===(e=n[t.trigger])||void 0===e?void 0:null===(i=e.setting)||void 0===i?void 0:i[this.animationAppearType];this.animationAppearInstance=null===(s=this.animationPresets)||void 0===s?void 0:null===(a=s[this.animationAppearType])||void 0===a?void 0:a.call(s,this.animationElement,l,r)}reset(){if(this.animationAppearInstance&&(this.animationAppearInstance=null,this.animationElement)){var t;null===(t=this.observer)||void 0===t||t.unobserve(this.animationElement)}}getSettingsByDevice(t){var i,e,n,a,o,s,r,l,p,d;return"desktop"===t?null===(i=this.settings)||void 0===i?void 0:i.desktop:"tablet"===t?null!==(l=null===(e=this.settings)||void 0===e?void 0:e.tablet)&&void 0!==l?l:null===(n=this.settings)||void 0===n?void 0:n.desktop:"mobile"===t?null!==(d=null!==(p=null===(a=this.settings)||void 0===a?void 0:a.mobile)&&void 0!==p?p:null===(o=this.settings)||void 0===o?void 0:o.tablet)&&void 0!==d?d:null===(s=this.settings)||void 0===s?void 0:s.desktop:null===(r=this.settings)||void 0===r?void 0:r.desktop}listenerInteractions(){var t,i;(null===(t=this.context)||void 0===t?void 0:t.onTrigger)&&(null===(i=this.context)||void 0===i||i.onTrigger({event:"gp:run-animation"},t=>{var i;this.settings={desktop:t},this.init(),this.runAnimation(null!==(i=this.currentDevice)&&void 0!==i?i:"desktop")}))}constructor(t){e(this,"containerElement",null),e(this,"animationElement",null),e(this,"animationAppearInstance",null),e(this,"currentDevice",null),e(this,"animationAppearType","none"),e(this,"animationPresets",null),e(this,"tag",void 0),e(this,"opacity",void 0),e(this,"playAppear",()=>{}),e(this,"settings",void 0),e(this,"observer",void 0),e(this,"baseAnimationElementOpacity","1"),e(this,"containerSelector",void 0),e(this,"context",void 0),e(this,"getBaseOpacityByDevice",()=>{var t,i,e,n,a,o,s,r,l,p,d,h;let v="100%";return"desktop"===this.currentDevice?v=null!==(s=null===(t=this.opacity)||void 0===t?void 0:t.desktop)&&void 0!==s?s:"100%":"tablet"===this.currentDevice?v=null!==(l=null!==(r=null===(i=this.opacity)||void 0===i?void 0:i.tablet)&&void 0!==r?r:null===(e=this.opacity)||void 0===e?void 0:e.desktop)&&void 0!==l?l:"100%":"mobile"===this.currentDevice&&(v=null!==(h=null!==(d=null!==(p=null===(n=this.opacity)||void 0===n?void 0:n.mobile)&&void 0!==p?p:null===(a=this.opacity)||void 0===a?void 0:a.tablet)&&void 0!==d?d:null===(o=this.opacity)||void 0===o?void 0:o.desktop)&&void 0!==h?h:"100%"),+v.replace("%","")/100}),e(this,"runAnimation",t=>{this.reset(),this.currentDevice=t,this.baseAnimationElementOpacity=this.getBaseOpacityByDevice().toString(),this.animationPresets=i(+this.baseAnimationElementOpacity),this.initAnimation(this.getSettingsByDevice(t))}),this.context=t,this.listenerInteractions()}};function r(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}let l={Button:".gp-button-base",ProductButton:".gp-product-button",Sticky:"gp-sticky",Dialog:"div[role=dialog]",Icon:"div div",ProductTag:"div div div",Product:"product-form form div"},p=()=>{window.removeEventListener("gp-global-loaded",p);class t extends GP.Component{init(){var t;this.setMainContentContainer(),this.containerSelector=`animation-wrapper-${Math.random().toString(36).substr(2,5)}`,this.setAttribute("data-animationId",this.containerSelector),this.animationPresets=i(),this.tag=this.getState("tag"),this.opacity=this.getState("opacity"),this.containerElement=document.querySelector(`[data-animationId='${this.containerSelector}']`),Object.keys(l).includes(this.tag||"")?this.animationElement=document.querySelector(`[data-animationId='${this.containerSelector}'] div ${null!==(t=null==l?void 0:l[this.tag||""])&&void 0!==t?t:""}`):this.animationElement=document.querySelector(`[data-animationId='${this.containerSelector}'] div > :first-of-type:not(script,link)`),this.containerElement&&this.animationElement&&(this.baseAnimationElementOpacity=this.getBaseOpacityByDevice().toString())}initAnimation(t){if(this.reset(),this.containerElement&&this.animationElement){if(!(null==t?void 0:t.enabled)){this.removeZeroOpacity();return}this.animationAppearType=this.getAnimationType(t,"appear"),this.animationHoverType=this.getAnimationType(t,"hover"),"none"===this.animationAppearType&&this.removeZeroOpacity(),this.playAppear=t=>{var i,e;t&&t.stopPropagation(),this.setContainerOverflowHidden(),"shake"!==this.animationAppearType&&this.applyInitOpacity(),this.animationAppearInstance&&(null===(i=this.animationHoverInstance)||void 0===i||i.cancel(),this.appearPlay(),this.animationAppearInstance.finished.then(()=>{this.unsetContainerOverflowHidden(),this.animationElement&&this.removeZeroOpacity()}),this.animationElement&&(null===(e=this.observer)||void 0===e||e.unobserve(this.animationElement)))},this.cancelAppear=()=>{this.removeZeroOpacity(),this.unsetContainerOverflowHidden(),this.animationAppearInstance&&this.animationAppearInstance.cancel()},this.playHover=t=>{t&&t.stopPropagation(),this.animationHoverInstance&&(this.setContainerOverflowHidden(),this.cancelAppear(),this.hoverPlay())},this.cancelHover=()=>{if(this.animationHoverInstance){if("zoom"===this.animationHoverType){if(this.hoverPlay(-1),!this.isAppearLoop)return;this.animationHoverInstance.finished.then(()=>{clearTimeout(this.appearAfterHoverTimer),this.appearAfterHoverTimer=setTimeout(()=>{this.playAppear()},100)});return}this.animationHoverInstance.cancel(),this.isAppearLoop&&this.playAppear()}},"none"!==this.animationHoverType&&"desktop"===this.currentDevice&&(this.initHoverInstance(t),this.animationElement.addEventListener("mouseenter",this.playHover),this.animationElement.addEventListener("mouseleave",this.cancelHover)),"none"!==this.animationAppearType?(this.initAppearInstance(t),this.observer=new IntersectionObserver(t=>{t.forEach(t=>{t.intersectionRatio>.05&&this.playAppear()})},{root:null,rootMargin:"0px",threshold:[.05]}),this.observer.observe(this.animationElement)):this.removeZeroOpacity()}}removeZeroOpacity(){let t=document.querySelector(`[data-animationId='${this.containerSelector}'] div`);t&&(t.style.visibility="visible",t.style.opacity="1"),this.animationElement&&(this.animationElement.style.opacity=this.baseAnimationElementOpacity)}applyInitOpacity(){let t=document.querySelector(`[data-animationId='${this.containerSelector}'] div`);t&&(t.style.visibility="visible",t.style.opacity="1"),this.animationElement&&(this.animationElement.style.opacity="0")}hoverPlay(t){this.animationHoverInstance&&(this.animationHoverInstance.playbackRate=null!=t?t:1,this.animationHoverInstance.play())}appearPlay(t){this.animationAppearInstance&&(this.animationAppearInstance.playbackRate=null!=t?t:1,this.animationAppearInstance.play())}getAnimationType(t,i){var e,n,a;return null!==(a=null==t?void 0:null===(n=t.triggerConfig)||void 0===n?void 0:null===(e=n[i])||void 0===e?void 0:e.animation)&&void 0!==a?a:"none"}initAppearInstance(t){var i,e,n,a,o;if("none"===this.animationAppearType)return;let s=null==t?void 0:null===(n=t.triggerConfig)||void 0===n?void 0:null===(e=n.appear)||void 0===e?void 0:null===(i=e.setting)||void 0===i?void 0:i[this.animationAppearType];this.isAppearLoop=s.loop,this.animationAppearInstance=null===(o=this.animationPresets)||void 0===o?void 0:null===(a=o[this.animationAppearType])||void 0===a?void 0:a.call(o,this.animationElement,s)}initHoverInstance(t){var i,e,n,a,o;if("none"===this.animationHoverType)return;let s=null==t?void 0:null===(n=t.triggerConfig)||void 0===n?void 0:null===(e=n.hover)||void 0===e?void 0:null===(i=e.setting)||void 0===i?void 0:i[this.animationHoverType];this.animationHoverInstance=null===(o=this.animationPresets)||void 0===o?void 0:null===(a=o[this.animationHoverType])||void 0===a?void 0:a.call(o,this.animationElement,s)}reset(){if(this.animationAppearInstance&&(this.animationAppearInstance=null,this.animationElement)){var t;null===(t=this.observer)||void 0===t||t.unobserve(this.animationElement)}this.animationHoverInstance&&(this.animationHoverInstance=null,this.animationElement&&(this.animationElement.removeEventListener("mouseenter",this.playHover),this.animationElement.removeEventListener("mouseleave",this.cancelHover)))}initResizeObserver(){let t=document.querySelector("html");if(!this.containerElement||!t)return;let i=new ResizeObserver(([t])=>{var i;let e;let n=null!==(i=null==t?void 0:t.target.getBoundingClientRect().width)&&void 0!==i?i:0;e=n>=1024?"desktop":n>=768?"tablet":"mobile",this.currentDevice!==e&&this.runAnimation(e)});return i.observe(t),()=>i.disconnect()}setMainContentContainer(){let t=document.getElementById("MainContent");if(!t){this.mainContentContainer=document.body;return}this.mainContentContainer=t}getSettingsByDevice(t){var i,e,n,a,o,s,r,l,p,d;return"desktop"===t?null===(i=this.settings)||void 0===i?void 0:i.desktop:"tablet"===t?null!==(l=null===(e=this.settings)||void 0===e?void 0:e.tablet)&&void 0!==l?l:null===(n=this.settings)||void 0===n?void 0:n.desktop:"mobile"===t?null!==(d=null!==(p=null===(a=this.settings)||void 0===a?void 0:a.mobile)&&void 0!==p?p:null===(o=this.settings)||void 0===o?void 0:o.tablet)&&void 0!==d?d:null===(s=this.settings)||void 0===s?void 0:s.desktop:null===(r=this.settings)||void 0===r?void 0:r.desktop}constructor(){if(super(),r(this,"mainContentContainer",null),r(this,"containerElement",null),r(this,"animationElement",null),r(this,"animationAppearInstance",null),r(this,"animationHoverInstance",null),r(this,"currentDevice",null),r(this,"animationAppearType","none"),r(this,"animationHoverType","none"),r(this,"animationPresets",null),r(this,"tag",void 0),r(this,"opacity",void 0),r(this,"playAppear",()=>{}),r(this,"playHover",()=>{}),r(this,"cancelAppear",()=>{}),r(this,"cancelHover",()=>{}),r(this,"settings",void 0),r(this,"observer",void 0),r(this,"appearAfterHoverTimer",void 0),r(this,"isAppearLoop",!1),r(this,"baseAnimationElementOpacity","1"),r(this,"containerSelector",void 0),r(this,"previousContainerOverflowStyle","unset"),r(this,"notEnableAnimationWhenInit",!1),r(this,"getBaseOpacityByDevice",()=>{var t,i,e,n,a,o,s,r,l,p,d,h;let v="100%";return"desktop"===this.currentDevice?v=null!==(s=null===(t=this.opacity)||void 0===t?void 0:t.desktop)&&void 0!==s?s:"100%":"tablet"===this.currentDevice?v=null!==(l=null!==(r=null===(i=this.opacity)||void 0===i?void 0:i.tablet)&&void 0!==r?r:null===(e=this.opacity)||void 0===e?void 0:e.desktop)&&void 0!==l?l:"100%":"mobile"===this.currentDevice&&(v=null!==(h=null!==(d=null!==(p=null===(n=this.opacity)||void 0===n?void 0:n.mobile)&&void 0!==p?p:null===(a=this.opacity)||void 0===a?void 0:a.tablet)&&void 0!==d?d:null===(o=this.opacity)||void 0===o?void 0:o.desktop)&&void 0!==h?h:"100%"),+v.replace("%","")/100}),r(this,"setContainerOverflowHidden",()=>{this.setContainerStyle("clip")}),r(this,"setContainerStyle",t=>{this.mainContentContainer&&(this.previousContainerOverflowStyle=this.mainContentContainer.style.overflowX,this.mainContentContainer.style.overflowX=t)}),r(this,"unsetContainerOverflowHidden",()=>{var t;this.setContainerStyle(null!==(t=this.previousContainerOverflowStyle)&&void 0!==t?t:"unset")}),r(this,"runAnimation",t=>{this.cancelAppear(),this.reset(),this.currentDevice=t,this.baseAnimationElementOpacity=this.getBaseOpacityByDevice().toString(),this.animationPresets=i(+this.baseAnimationElementOpacity),this.initAnimation(this.getSettingsByDevice(t))}),this.notEnableAnimationWhenInit=this.getState("notEnableAnimationWhenInit"),new(s())(this),this.notEnableAnimationWhenInit)return;this.settings=this.getState("config"),this.init(),this.initResizeObserver()}}customElements.get("gp-animation")||customElements.define("gp-animation",t)};"completed"===window.gpReadyState?p():window.addEventListener("gp-global-loaded",p)}();
